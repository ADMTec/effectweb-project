<?php
/***********************************************************/
/* Cetemaster Services, Limited                            */
/* Copyright (c) 2010-2013. All Rights Reserved,           */
/* www.cetemaster.com.br / www.cetemaster.com              */
/***********************************************************/
/* File generated by Cetemaster PHP Template Engine        */
/* Template: Harmony                                       */
/* DB file: skin_userpanel                                 */
/* DB generated in 20/10/2013 - 04:34h                     */
/***********************************************************/
/* This is a cache file generated by                       */
/* DO NOT EDIT DIRECTLY                                    */
/* The changes are not saved to the cache automatically    */
/***********************************************************/

/********** Begin: global_header **********/
$CTM_TEMPLATE_DATABASE['global_header'] = <<<HTML
	{template="global_javascript"}
	<div id="boxGeneral" class="box-content">
        <div class="header"><span class="panelTitle">{::x####$####x::this->lang->words['UserPanel']['Global']['Title']}</span></div>
        <div id="tabs">
        	<ul>
				<li><a href="#tabs-1">{::x####$####x::this->lang->words['UserPanel']['Global']['Tabs'][1]}</a></li>
                <if syntax="::x####$####x::userpanel['character']">
				<li><a href="#tabs-2">{::x####$####x::this->lang->words['UserPanel']['Global']['Tabs'][2]}</a></li>
                </if>
				<li><a href="#tabs-3">{::x####$####x::this->lang->words['UserPanel']['Global']['Tabs'][3]}</a></li>
			</ul>
			<div id="tabs-1">
            	<ul class="optpanel">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="HOME">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['Home']}</a></li>
                    <if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['ACCOUNT']['CHANGE_DATA'][0] == true">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="CHANGE_DATA">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['ChangeData']}</a></li>
                    </if>
                    <if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['ACCOUNT']['CHANGE_MAIL'][0] == true">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="CHANGE_MAIL">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['ChangeMail']}</a></li>
                    </if>
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="CHANGE_PID">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['ChangePID']}</a></li>
                    </if>
                    <if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['ACCOUNT']['VIRTUAL_VAULT'][0] == true">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="VIRTUAL_VAULT">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['VirtualVault']}</a></li>
                	</if>
                </ul>
        	</div>
            <if syntax="::x####$####x::userpanel['character']">
            <div id="tabs-2">
                <ul class="optpanel">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="VIEW_CHARACTER">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['CharSelected']} <span id="cpCharSelected">{::x####$####x::userpanel['character']}</span></a></li>
                    <if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['CHARACTER']['RESET_SYSTEM'][0] == true">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="RESET_SYSTEM">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['ResetSystem']}</a></li>
                    </if>
                    <if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['CHARACTER']['MASTER_RESET'][0] == true">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="MASTER_RESET">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['MasterReset']}</a></li>
                    </if>
                    <if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['CHARACTER']['TRANSFER_RESETS'][0] == true">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="TRANSFER_RESETS">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['TransferResets']}</a></li>
                    </if>
                    <if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['CHARACTER']['CLEAR_PK'][0] == true">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="CLEAR_PK">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['ClearPk']}</a></li>
                    </if>
                    <if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['CHARACTER']['CHANGE_CLASS'][0] == true">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="CHANGE_CLASS">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['ChangeClass']}</a></li>
                    </if>
                    <if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['CHARACTER']['CHANGE_NAME'][0] == true">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="CHANGE_NAME">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['ChangeName']}</a></li>
                    </if>
                    <if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['CHARACTER']['MOVE_CHARACTER'][0] == true">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="MOVE_CHARACTER">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['MoveCharacter']}</a></li>
                    </if>
                    <if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['CHARACTER']['MANAGE_PROFILE'][0] == true">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="MANAGE_PROFILE">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['ManageProfile']}</a></li>
                    </if>
                    <if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['CHARACTER']['CHANGE_AVATAR'][0] == true">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="CHANGE_AVATAR">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['ChangeAvatar']}</a></li>
                    </if>
                    <if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['CHARACTER']['REPAIR_POINTS'][0] == true">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="REPAIR_POINTS">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['RepairPoints']}</a></li>
                    </if>
                    <if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['CHARACTER']['REDISTRIBUTE_POINTS'][0] == true">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="REDISTRIBUTE_POINTS">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['RedistributePoints']}</a></li>
                    </if>
                    <if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['CHARACTER']['DISTRIBUTE_POINTS'][0] == true">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="DISTRIBUTE_POINTS">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['DistributePoints']}</a></li>
                    </if>
                    <if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['CHARACTER']['CLEAR_CHARACTER'][0] == true">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="CLEAR_CHARACTER">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['ClearCharacter']}</a></li>
                    </if>
                </ul>
        	</div>
            </if>
            <div id="tabs-3">
            	<ul class="optpanel">
                	<if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['SUPPORT']['TICKETS'][0] == true">
                	<li class="focus"><a href="javascript: void(0);" rel="panel" id="SUPPORT_TICKETS">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['SupportTickets']}</a></li>
                    </if>
                    <if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['FINANCIAL']['INVOICES'][0] == true">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="INVOICES">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['Invoices']}</a></li>
                    </if>
                    <if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['FINANCIAL']['CONVERT_COIN'][0] == true">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="CONVERT_COIN">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['ConvertCoin']}</a></li>
                    </if>
                    <if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['FINANCIAL']['BUY_VIP'][0] == true">
                    <li class="focus"><a href="javascript: void(0);" rel="panel" id="BUY_VIP">&raquo; {::x####$####x::this->lang->words['UserPanel']['Global']['Menu']['BuyVIP']}</a></li>
                    </if>
                </ul>
        	</div>
        </div>
	</div>
    <div id="PanelContent">
    	{::x####$####x::userpanel['content']}
	</div>
HTML;
/********** End: global_header **********/

/********** Begin: global_javascript **********/
$CTM_TEMPLATE_DATABASE['global_javascript'] = <<<HTML
<script type="text/javascript">
	::x####$####x::(document).ready(function(e)
	{
		var VIP_NUMBER  = {const="VIP_NUMBER"};
		var PANEL_PAGE = "{::x####$####x::userpanel['this_option']}";
		var PANEL_OPTIONS = new Array();
		
		PANEL_OPTIONS['HOME'] = new Array();
		PANEL_OPTIONS['CHANGE_DATA'] = new Array();
		PANEL_OPTIONS['CHANGE_MAIL'] = new Array();
		PANEL_OPTIONS['CHANGE_PID'] = new Array();
		PANEL_OPTIONS['VIRTUAL_VAULT'] = new Array();
		PANEL_OPTIONS['DISCONNECT_GAME'] = new Array();
		
		PANEL_OPTIONS['CHANGE_DATA'][0] = {::x####$####x::userpanel['permissions']['CHANGE_DATA'][0]};
		PANEL_OPTIONS['CHANGE_MAIL'][0] = {::x####$####x::userpanel['permissions']['CHANGE_MAIL'][0]};
		PANEL_OPTIONS['CHANGE_PID'][0] = {::x####$####x::userpanel['permissions']['CHANGE_PID'][0]};
		PANEL_OPTIONS['VIRTUAL_VAULT'][0] = {::x####$####x::userpanel['permissions']['VIRTUAL_VAULT'][0]};
		PANEL_OPTIONS['DISCONNECT_GAME'][0] = {::x####$####x::userpanel['permissions']['DISCONNECT_GAME'][0]};
		
		PANEL_OPTIONS['CHANGE_DATA'][1] = {::x####$####x::userpanel['permissions']['CHANGE_DATA'][1]};
		PANEL_OPTIONS['CHANGE_MAIL'][1] = {::x####$####x::userpanel['permissions']['CHANGE_MAIL'][1]};
		PANEL_OPTIONS['CHANGE_PID'][1] = {::x####$####x::userpanel['permissions']['CHANGE_PID'][1]};
		PANEL_OPTIONS['VIRTUAL_VAULT'][1] = {::x####$####x::userpanel['permissions']['VIRTUAL_VAULT'][1]};
		PANEL_OPTIONS['DISCONNECT_GAME'][1] = {::x####$####x::userpanel['permissions']['DISCONNECT_GAME'][1]};
		
		<if syntax="VIP_NUMBER >= 2">
		PANEL_OPTIONS['CHANGE_DATA'][2] = {::x####$####x::userpanel['permissions']['CHANGE_DATA'][2]};
		PANEL_OPTIONS['CHANGE_MAIL'][2] = {::x####$####x::userpanel['permissions']['CHANGE_MAIL'][2]};
		PANEL_OPTIONS['CHANGE_PID'][2] = {::x####$####x::userpanel['permissions']['CHANGE_PID'][2]};
		PANEL_OPTIONS['VIRTUAL_VAULT'][2] = {::x####$####x::userpanel['permissions']['VIRTUAL_VAULT'][2]};
		PANEL_OPTIONS['DISCONNECT_GAME'][2] = {::x####$####x::userpanel['permissions']['DISCONNECT_GAME'][2]};
		</if>
		
		<if syntax="VIP_NUMBER >= 3">
		PANEL_OPTIONS['CHANGE_DATA'][3] = {::x####$####x::userpanel['permissions']['CHANGE_DATA'][3]};
		PANEL_OPTIONS['CHANGE_MAIL'][3] = {::x####$####x::userpanel['permissions']['CHANGE_MAIL'][3]};
		PANEL_OPTIONS['CHANGE_PID'][3] = {::x####$####x::userpanel['permissions']['CHANGE_PID'][3]};
		PANEL_OPTIONS['VIRTUAL_VAULT'][3] = {::x####$####x::userpanel['permissions']['VIRTUAL_VAULT'][3]};
		PANEL_OPTIONS['DISCONNECT_GAME'][3] = {::x####$####x::userpanel['permissions']['DISCONNECT_GAME'][3]};
		</if>
		
		<if syntax="VIP_NUMBER >= 4">
		PANEL_OPTIONS['CHANGE_DATA'][4] = {::x####$####x::userpanel['permissions']['CHANGE_DATA'][4]};
		PANEL_OPTIONS['CHANGE_MAIL'][4] = {::x####$####x::userpanel['permissions']['CHANGE_MAIL'][4]};
		PANEL_OPTIONS['CHANGE_PID'][4] = {::x####$####x::userpanel['permissions']['CHANGE_PID'][4]};
		PANEL_OPTIONS['VIRTUAL_VAULT'][4] = {::x####$####x::userpanel['permissions']['VIRTUAL_VAULT'][4]};
		PANEL_OPTIONS['DISCONNECT_GAME'][4] = {::x####$####x::userpanel['permissions']['DISCONNECT_GAME'][4]};
		</if>
		
		<if syntax="VIP_NUMBER == 5">
		PANEL_OPTIONS['CHANGE_DATA'][5] = {::x####$####x::userpanel['permissions']['CHANGE_DATA'][5]};
		PANEL_OPTIONS['CHANGE_MAIL'][5] = {::x####$####x::userpanel['permissions']['CHANGE_MAIL'][5]};
		PANEL_OPTIONS['CHANGE_PID'][5] = {::x####$####x::userpanel['permissions']['CHANGE_PID'][5]};
		PANEL_OPTIONS['VIRTUAL_VAULT'][5] = {::x####$####x::userpanel['permissions']['VIRTUAL_VAULT'][5]};
		PANEL_OPTIONS['DISCONNECT_GAME'][5] = {::x####$####x::userpanel['permissions']['DISCONNECT_GAME'][5]};
		</if>
		
		<if syntax="::x####$####x::userpanel['character']">
		PANEL_OPTIONS['RESET_SYSTEM'] = new Array();
		PANEL_OPTIONS['MASTER_RESET'] = new Array();
		PANEL_OPTIONS['TRANSFER_RESETS'] = new Array();
		PANEL_OPTIONS['CLEAR_PK'] = new Array();
		PANEL_OPTIONS['CHANGE_CLASS'] = new Array();
		PANEL_OPTIONS['CHANGE_NAME'] = new Array();
		PANEL_OPTIONS['MOVE_CHARACTER'] = new Array();
		PANEL_OPTIONS['MANAGE_PROFILE'] = new Array();
		PANEL_OPTIONS['CHANGE_AVATAR'] = new Array();
		PANEL_OPTIONS['REPAIR_POINTS'] = new Array();
		PANEL_OPTIONS['REDISTRIBUTE_POINTS'] = new Array();
		PANEL_OPTIONS['DISTRIBUTE_POINTS'] = new Array();
		PANEL_OPTIONS['CLEAR_CHARACTER'] = new Array();
		PANEL_OPTIONS['CLOSE_CHARACTER'] = new Array();
		
		PANEL_OPTIONS['RESET_SYSTEM'][0] = {::x####$####x::userpanel['permissions']['RESET_SYSTEM'][0]};
		PANEL_OPTIONS['MASTER_RESET'][0] = {::x####$####x::userpanel['permissions']['MASTER_RESET'][0]};
		PANEL_OPTIONS['TRANSFER_RESETS'][0] = {::x####$####x::userpanel['permissions']['TRANSFER_RESETS'][0]};
		PANEL_OPTIONS['CLEAR_PK'][0] = {::x####$####x::userpanel['permissions']['CLEAR_PK'][0]};
		PANEL_OPTIONS['CHANGE_CLASS'][0] = {::x####$####x::userpanel['permissions']['CHANGE_CLASS'][0]};
		PANEL_OPTIONS['CHANGE_NAME'][0] = {::x####$####x::userpanel['permissions']['CHANGE_NAME'][0]};
		PANEL_OPTIONS['MOVE_CHARACTER'][0] = {::x####$####x::userpanel['permissions']['MOVE_CHARACTER'][0]};
		PANEL_OPTIONS['MANAGE_PROFILE'][0] = {::x####$####x::userpanel['permissions']['MANAGE_PROFILE'][0]};
		PANEL_OPTIONS['CHANGE_AVATAR'][0] = {::x####$####x::userpanel['permissions']['CHANGE_AVATAR'][0]};
		PANEL_OPTIONS['REPAIR_POINTS'][0] = {::x####$####x::userpanel['permissions']['REPAIR_POINTS'][0]};
		PANEL_OPTIONS['REDISTRIBUTE_POINTS'][0] = {::x####$####x::userpanel['permissions']['REDISTRIBUTE_POINTS'][0]};
		PANEL_OPTIONS['DISTRIBUTE_POINTS'][0] = {::x####$####x::userpanel['permissions']['DISTRIBUTE_POINTS'][0]};
		PANEL_OPTIONS['CLEAR_CHARACTER'][0] = {::x####$####x::userpanel['permissions']['CLEAR_CHARACTER'][0]};
		
		PANEL_OPTIONS['RESET_SYSTEM'][1] = {::x####$####x::userpanel['permissions']['RESET_SYSTEM'][1]};
		PANEL_OPTIONS['MASTER_RESET'][1] = {::x####$####x::userpanel['permissions']['MASTER_RESET'][1]};
		PANEL_OPTIONS['TRANSFER_RESETS'][1] = {::x####$####x::userpanel['permissions']['TRANSFER_RESETS'][1]};
		PANEL_OPTIONS['CLEAR_PK'][1] = {::x####$####x::userpanel['permissions']['CLEAR_PK'][1]};
		PANEL_OPTIONS['CHANGE_CLASS'][1] = {::x####$####x::userpanel['permissions']['CHANGE_CLASS'][1]};
		PANEL_OPTIONS['CHANGE_NAME'][1] = {::x####$####x::userpanel['permissions']['CHANGE_NAME'][1]};
		PANEL_OPTIONS['MOVE_CHARACTER'][1] = {::x####$####x::userpanel['permissions']['MOVE_CHARACTER'][1]};
		PANEL_OPTIONS['MANAGE_PROFILE'][1] = {::x####$####x::userpanel['permissions']['MANAGE_PROFILE'][1]};
		PANEL_OPTIONS['CHANGE_AVATAR'][1] = {::x####$####x::userpanel['permissions']['CHANGE_AVATAR'][1]};
		PANEL_OPTIONS['REPAIR_POINTS'][1] = {::x####$####x::userpanel['permissions']['REPAIR_POINTS'][1]};
		PANEL_OPTIONS['REDISTRIBUTE_POINTS'][1] = {::x####$####x::userpanel['permissions']['REDISTRIBUTE_POINTS'][1]};
		PANEL_OPTIONS['DISTRIBUTE_POINTS'][1] = {::x####$####x::userpanel['permissions']['DISTRIBUTE_POINTS'][1]};
		PANEL_OPTIONS['CLEAR_CHARACTER'][1] = {::x####$####x::userpanel['permissions']['CLEAR_CHARACTER'][1]};
		
		<if syntax="VIP_NUMBER >= 2">
		PANEL_OPTIONS['RESET_SYSTEM'][2] = {::x####$####x::userpanel['permissions']['RESET_SYSTEM'][2]};
		PANEL_OPTIONS['MASTER_RESET'][2] = {::x####$####x::userpanel['permissions']['MASTER_RESET'][2]};
		PANEL_OPTIONS['TRANSFER_RESETS'][2] = {::x####$####x::userpanel['permissions']['TRANSFER_RESETS'][2]};
		PANEL_OPTIONS['CLEAR_PK'][2] = {::x####$####x::userpanel['permissions']['CLEAR_PK'][2]};
		PANEL_OPTIONS['CHANGE_CLASS'][2] = {::x####$####x::userpanel['permissions']['CHANGE_CLASS'][2]};
		PANEL_OPTIONS['CHANGE_NAME'][2] = {::x####$####x::userpanel['permissions']['CHANGE_NAME'][2]};
		PANEL_OPTIONS['MOVE_CHARACTER'][2] = {::x####$####x::userpanel['permissions']['MOVE_CHARACTER'][2]};
		PANEL_OPTIONS['MANAGE_PROFILE'][2] = {::x####$####x::userpanel['permissions']['MANAGE_PROFILE'][2]};
		PANEL_OPTIONS['CHANGE_AVATAR'][2] = {::x####$####x::userpanel['permissions']['CHANGE_AVATAR'][2]};
		PANEL_OPTIONS['REPAIR_POINTS'][2] = {::x####$####x::userpanel['permissions']['REPAIR_POINTS'][2]};
		PANEL_OPTIONS['REDISTRIBUTE_POINTS'][2] = {::x####$####x::userpanel['permissions']['REDISTRIBUTE_POINTS'][2]};
		PANEL_OPTIONS['DISTRIBUTE_POINTS'][2] = {::x####$####x::userpanel['permissions']['DISTRIBUTE_POINTS'][2]};
		PANEL_OPTIONS['CLEAR_CHARACTER'][2] = {::x####$####x::userpanel['permissions']['CLEAR_CHARACTER'][2]};
		</if>
		
		<if syntax="VIP_NUMBER >= 3">
		PANEL_OPTIONS['RESET_SYSTEM'][3] = {::x####$####x::userpanel['permissions']['RESET_SYSTEM'][3]};
		PANEL_OPTIONS['MASTER_RESET'][3] = {::x####$####x::userpanel['permissions']['MASTER_RESET'][3]};
		PANEL_OPTIONS['TRANSFER_RESETS'][3] = {::x####$####x::userpanel['permissions']['TRANSFER_RESETS'][3]};
		PANEL_OPTIONS['CLEAR_PK'][3] = {::x####$####x::userpanel['permissions']['CLEAR_PK'][3]};
		PANEL_OPTIONS['CHANGE_CLASS'][3] = {::x####$####x::userpanel['permissions']['CHANGE_CLASS'][3]};
		PANEL_OPTIONS['CHANGE_NAME'][3] = {::x####$####x::userpanel['permissions']['CHANGE_NAME'][3]};
		PANEL_OPTIONS['MOVE_CHARACTER'][3] = {::x####$####x::userpanel['permissions']['MOVE_CHARACTER'][3]};
		PANEL_OPTIONS['MANAGE_PROFILE'][3] = {::x####$####x::userpanel['permissions']['MANAGE_PROFILE'][3]};
		PANEL_OPTIONS['CHANGE_AVATAR'][3] = {::x####$####x::userpanel['permissions']['CHANGE_AVATAR'][3]};
		PANEL_OPTIONS['REPAIR_POINTS'][3] = {::x####$####x::userpanel['permissions']['REPAIR_POINTS'][3]};
		PANEL_OPTIONS['REDISTRIBUTE_POINTS'][3] = {::x####$####x::userpanel['permissions']['REDISTRIBUTE_POINTS'][3]};
		PANEL_OPTIONS['DISTRIBUTE_POINTS'][3] = {::x####$####x::userpanel['permissions']['DISTRIBUTE_POINTS'][3]};
		PANEL_OPTIONS['CLEAR_CHARACTER'][3] = {::x####$####x::userpanel['permissions']['CLEAR_CHARACTER'][3]};
		</if>
		
		<if syntax="VIP_NUMBER >= 4">
		PANEL_OPTIONS['RESET_SYSTEM'][4] = {::x####$####x::userpanel['permissions']['RESET_SYSTEM'][4]};
		PANEL_OPTIONS['MASTER_RESET'][4] = {::x####$####x::userpanel['permissions']['MASTER_RESET'][4]};
		PANEL_OPTIONS['TRANSFER_RESETS'][4] = {::x####$####x::userpanel['permissions']['TRANSFER_RESETS'][4]};
		PANEL_OPTIONS['CLEAR_PK'][4] = {::x####$####x::userpanel['permissions']['CLEAR_PK'][4]};
		PANEL_OPTIONS['CHANGE_CLASS'][4] = {::x####$####x::userpanel['permissions']['CHANGE_CLASS'][4]};
		PANEL_OPTIONS['CHANGE_NAME'][4] = {::x####$####x::userpanel['permissions']['CHANGE_NAME'][4]};
		PANEL_OPTIONS['MOVE_CHARACTER'][4] = {::x####$####x::userpanel['permissions']['MOVE_CHARACTER'][4]};
		PANEL_OPTIONS['MANAGE_PROFILE'][4] = {::x####$####x::userpanel['permissions']['MANAGE_PROFILE'][4]};
		PANEL_OPTIONS['CHANGE_AVATAR'][4] = {::x####$####x::userpanel['permissions']['CHANGE_AVATAR'][4]};
		PANEL_OPTIONS['REPAIR_POINTS'][4] = {::x####$####x::userpanel['permissions']['REPAIR_POINTS'][4]};
		PANEL_OPTIONS['REDISTRIBUTE_POINTS'][4] = {::x####$####x::userpanel['permissions']['REDISTRIBUTE_POINTS'][4]};
		PANEL_OPTIONS['DISTRIBUTE_POINTS'][4] = {::x####$####x::userpanel['permissions']['DISTRIBUTE_POINTS'][4]};
		PANEL_OPTIONS['CLEAR_CHARACTER'][4] = {::x####$####x::userpanel['permissions']['CLEAR_CHARACTER'][4]};
		</if>
		
		<if syntax="VIP_NUMBER == 5">
		PANEL_OPTIONS['RESET_SYSTEM'][5] = {::x####$####x::userpanel['permissions']['RESET_SYSTEM'][5]};
		PANEL_OPTIONS['MASTER_RESET'][5] = {::x####$####x::userpanel['permissions']['MASTER_RESET'][5]};
		PANEL_OPTIONS['TRANSFER_RESETS'][5] = {::x####$####x::userpanel['permissions']['TRANSFER_RESETS'][5]};
		PANEL_OPTIONS['CLEAR_PK'][5] = {::x####$####x::userpanel['permissions']['CLEAR_PK'][5]};
		PANEL_OPTIONS['CHANGE_CLASS'][5] = {::x####$####x::userpanel['permissions']['CHANGE_CLASS'][5]};
		PANEL_OPTIONS['CHANGE_NAME'][5] = {::x####$####x::userpanel['permissions']['CHANGE_NAME'][5]};
		PANEL_OPTIONS['MOVE_CHARACTER'][5] = {::x####$####x::userpanel['permissions']['MOVE_CHARACTER'][5]};
		PANEL_OPTIONS['MANAGE_PROFILE'][5] = {::x####$####x::userpanel['permissions']['MANAGE_PROFILE'][5]};
		PANEL_OPTIONS['CHANGE_AVATAR'][5] = {::x####$####x::userpanel['permissions']['CHANGE_AVATAR'][5]};
		PANEL_OPTIONS['REPAIR_POINTS'][5] = {::x####$####x::userpanel['permissions']['REPAIR_POINTS'][5]};
		PANEL_OPTIONS['REDISTRIBUTE_POINTS'][5] = {::x####$####x::userpanel['permissions']['REDISTRIBUTE_POINTS'][5]};
		PANEL_OPTIONS['DISTRIBUTE_POINTS'][5] = {::x####$####x::userpanel['permissions']['DISTRIBUTE_POINTS'][5]};
		PANEL_OPTIONS['CLEAR_CHARACTER'][5] = {::x####$####x::userpanel['permissions']['CLEAR_CHARACTER'][5]};
		</if>
		</if>
		
		::x####$####x::("a[rel*=panel]").click(function()
		{
			switch(::x####$####x::(this).attr("id"))
			{
				/* Account and General */
				case "HOME" : panelLink = "home"; break;
				case "CHANGE_DATA" : panelLink = "changeData"; break;
				case "CHANGE_MAIL" : panelLink = "changeMail"; break;
				case "CHANGE_PID" : panelLink = "changePID"; break;
				case "MANAGE_CHAR" : panelLink = "manageChar"; break;
				case "VIRTUAL_VAULT" : panelLink = "virtualVault"; break;
				case "DISCONNECT_GAME" : panelLink = "disconnectGame"; break;
				/* Character */
				case "VIEW_CHARACTER" : panelLink = "viewCharacter"; break;
				case "RESET_SYSTEM" : panelLink = "resetSystem"; break;
				case "MASTER_RESET" : panelLink = "masterReset"; break;
				case "TRANSFER_RESETS" : panelLink = "transferResets"; break;
				case "CLEAR_PK" : panelLink = "clearPk"; break;
				case "CHANGE_CLASS" : panelLink = "changeClass"; break;
				case "CHANGE_NAME" : panelLink = "changeName"; break;
				case "MOVE_CHARACTER" : panelLink = "moveCharacter"; break;
				case "MANAGE_PROFILE" : panelLink = "manageProfile"; break;
				case "CHANGE_AVATAR" : panelLink = "changeAvatar"; break;
				case "REPAIR_POINTS" : panelLink = "repairPoints"; break;
				case "REDISTRIBUTE_POINTS" : panelLink = "redistributePoints"; break;
				case "DISTRIBUTE_POINTS" : panelLink = "distributePoints"; break;
				case "CLEAR_CHARACTER" : panelLink = "clearCharacter"; break;
				case "CLOSE_CHARACTER" : panelLink = "closeCharacter"; break;
				/* Support and Financial */
				case "SUPPORT_TICKETS" : panelLink = "supportTickets"; break;
				case "INVOICES" : panelLink = "invoices"; break;
				case "CONVERT_COIN" : panelLink = "convertCoin"; break;
				case "BUY_VIP" : panelLink = "buyVIP"; break;
			}
			CTM.Load("?/userpanel/"+panelLink, "PanelContent");
		});
		
		switch(PANEL_PAGE)
		{
			/* Account and General */
			case "home" : default :
				tab_number = 0;
			break;
			case "changeData" :
				tab_number = 0;
			break;
			case "changeMail" :
				tab_number = 0;
			break;
			case "changePID" :
				tab_number = 0;
			break;
			case "manageChar" :
				tab_number = 0;
			break;
			case "virtualVault" :
				tab_number = 0;
			break;
			case "disconnectGame" :
				tab_number = 0;
			break;
			/* Character */
			case "viewCharacter" :
				tab_number = 1;
			break;
			case "resetSystem" :
				tab_number = 1;
			break;
			case "masterReset" :
				tab_number = 1;
			break;
			case "transferResets" :
				tab_number = 1;
			break;
			case "clearPk" :
				tab_number = 1;
			break;
			case "changeClass" :
				tab_number = 1;
			break;
			case "changeName" :
				tab_number = 1;
			break;
			case "moveCharacter" :
				tab_number = 1;
			break;
			case "manageProfile" :
				tab_number = 1;
			break;
			case "changeAvatar" :
				tab_number = 1;
			break;
			case "repairPoints" :
				tab_number = 1;
			break;
			case "redistributePoints" :
				tab_number = 1;
			break;
			case "distributePoints" :
				tab_number = 1;
			break;
			case "clearCharacter" :
				tab_number = 1;
			break;
			case "closeCharacter" :
				tab_number = 1;
			break;
			/* Support and Financial */
			case "supportTickets" :
				tab_number = 2;
			break;
			case "invoices" :
				tab_number = 2;
			break;
			case "convertCoin" :
				tab_number = 2;
			break;
			case "buyVIP" :
				tab_number = 2;
			break;
		}
		
		for(i in PANEL_OPTIONS)
		{
			if(Object.keys(PANEL_OPTIONS[i]).length > 0)
			{
				var Text = "<span class=\"h1\">" + ::x####$####x::("#"+i).text() + "</span><br />";
				var Yes = "<b><span style=\"color: green\">"+CTM.LANG['Words[Yes]']+"</span></b>";
				var No = "<b><span style=\"color: red\">"+CTM.LANG['Words[No]']+"</span></b>";
			
				Text += "Free: ";
				Text += (PANEL_OPTIONS[i][0] == 1) ? Yes  : No;
				Text += "<br />";
				Text += "{const='VIP_NAME_1'}: ";
				Text += (PANEL_OPTIONS[i][1] == 1) ? Yes  : No;
				Text += "<br />";
				if(VIP_NUMBER >= 2)
				{
					Text += "{const='VIP_NAME_2'}: ";
					Text += (PANEL_OPTIONS[i][2] == 1) ? Yes  : No;
					Text += "<br />";
				}
				if(VIP_NUMBER >= 3)
				{
					Text += "{const='VIP_NAME_3'}: ";
					Text += (PANEL_OPTIONS[i][3] == 1) ? Yes  : No;
					Text += "<br />";
				}
				if(VIP_NUMBER >= 4)
				{
					Text += "{const='VIP_NAME_4'}: ";
					Text += (PANEL_OPTIONS[i][4] == 1) ? Yes  : No;
					Text += "<br />";
				}
				if(VIP_NUMBER == 5)
				{
					Text += "{const='VIP_NAME_5'}: ";
					Text += (PANEL_OPTIONS[i][5] == 1) ? Yes  : No;
					Text += "<br />";
				}
				
				::x####$####x::("#"+i).tooltip(Text, {width: 200});
			}
		}
		
		::x####$####x::('#tabs').tabs({ fx: { opacity: 'toggle' }, selected: tab_number });
		
		if(e)
		{
			if(PANEL_PAGE != "home" && PANEL_PAGE != "")
			{
				//::x####$####x::(".optpanel").hide("slow");
				//::x####$####x::("#tabs").slideUp(341);
			}
			::x####$####x::("span.panelTitle").css('cursor', 'pointer');
			::x####$####x::("span.panelTitle").click(function()
			{
				if(::x####$####x::("#tabs").is(":visible"))
				{
					//::x####$####x::("#tabs").fadeOut("slow");
					::x####$####x::("#tabs").slideUp(341);
				}
				else
				{
					//::x####$####x::("#tabs").fadeIn("slow");
					::x####$####x::("#tabs").slideDown(341);
				}
			});
		}
	});
	</script>
HTML;
/********** End: global_javascript **********/

/********** Begin: option_buyVIP **********/
$CTM_TEMPLATE_DATABASE['option_buyVIP'] = <<<HTML
<if syntax="!::x####$####x::userpanel['buy_vip']">
	<script type="text/javascript">
	function loadVIP_Plans(type)
	{
		CTM.AjaxLoad("?app=core&module=userpanel&option=buyVIP&vip="+type, "loadCommand");
	}
	</script>
    <div class="box-content">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['BuyVIP']['Title']}</span></div>
		<h4>{::x####$####x::this->lang->words['UserPanel']['BuyVIP']['Select']}</h4>
		<div align="center">
            <input type="button" name="selectType" id="selectType" value="{const='VIP_NAME_1'}" onclick="loadVIP_Plans(1);" class="btn" />
            <if syntax="VIP_NUMBER >= 2">
            <input type="button" name="selectType" id="selectType" value="{const='VIP_NAME_2'}" onclick="loadVIP_Plans(2);" class="btn" />
            </if>
            <if syntax="VIP_NUMBER >= 3">
            <input type="button" name="selectType" id="selectType" value="{const='VIP_NAME_3'}" onclick="loadVIP_Plans(3);" class="btn" />
            </if>
            <if syntax="VIP_NUMBER >= 4">
            <input type="button" name="selectType" id="selectType" value="{const='VIP_NAME_4'}" onclick="loadVIP_Plans(4);" class="btn" />
            </if>
            <if syntax="VIP_NUMBER == 5">
            <input type="button" name="selectType" id="selectType" value="{const='VIP_NAME_5'}" onclick="loadVIP_Plans(5);" class="btn" />
            </if>
		</div>
    </div>
	<div id="loadCommand"></div>
    <else />
	<script type="text/javascript">
	::x####$####x::(function()
	{
		::x####$####x::("#buyNow").click(function()
		{
			if(::x####$####x::("#Plan option:selected").val() < 1)
				CTM.Message("{::x####$####x::this->lang->words['UserPanel']['BuyVIP']['Messages']['Error_Plan']}", 1, "Command");
			else
				CTM.AjaxLoad("?app=core&module=userpanel&option=buyVIP&vip={::x####$####x::userpanel['buy_vip']['current_type_selected_id']}&write=true", "Command", "buyVIPNow");
		});
	});
	function confirmChangePlan(message)
	{
		Sexy.confirm(message, {onComplete : function(change)
		{
			if(change)
				CTM.AjaxLoad("?app=core&module=userpanel&option=buyVIP&vip={::x####$####x::userpanel['buy_vip']['current_type_selected_id']}&write=true&changePlan=true", "Command", "buyVIPNow");
		}
		});
	}
	function completeBuyVIP(AccountType, Expiration, CoinBalance)
	{
		::x####$####x::("#CoinBalance").fadeOut("fast", function()
		{
			::x####$####x::(this).html(CoinBalance);
			::x####$####x::(this).css("display", "none");
		});
		::x####$####x::("#CurrentType").fadeOut("fast", function()
		{
			::x####$####x::(this).html(AccountType);
			::x####$####x::(this).css("display", "none");
		});
		::x####$####x::("#VIPExpiration").fadeOut("fast", function()
		{
			::x####$####x::(this).html(Expiration);
			::x####$####x::(this).css("display", "none");
		});
		
		::x####$####x::("#CoinBalance").fadeIn("slow");
		::x####$####x::("#CurrentType").fadeIn("slow");
		::x####$####x::("#VIPExpiration").fadeIn("slow");
	}
	</script>
    <div class="box-content">
    	<div class="header"><span>{::x####$####x::userpanel['buy_vip']['current_type_selected']}</span></div>
        <form name="buyVIPNow" id="buyVIPNow" class="frm" style="float:left">
            <label>{::x####$####x::this->lang->words['UserPanel']['BuyVIP']['SelectPlan']}</label>
            <select name="Plan" id="Plan">
				<foreach loop="::x####$####x::userpanel['buy_vip']['plans'] as ::x####$####x::plan => ::x####$####x::price">
				<option value="{::x####$####x::plan}">{::x####$####x::plan} {::x####$####x::this->lang->words['UserPanel']['BuyVIP']['Days']} = {::x####$####x::price} {const='COIN_NAME_1'}</option>
				</foreach>
			</select>
            <br />
            <input type="button" id="buyNow" value="{::x####$####x::this->lang->words['UserPanel']['BuyVIP']['Button']}" class="btn" />
		</form>
        <div class="description">
        	<ul style="width:200px">
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['BuyVIP']['Balance']}</strong> 
                    <span id="CoinBalance" class="red">{::x####$####x::userpanel['buy_vip']['current_coin_balance']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['BuyVIP']['CurrentPlan']}</strong>
                    <span id="CurrentType" class="green">{::x####$####x::userpanel['buy_vip']['current_account_level']}</span>
                </li> 
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['BuyVIP']['Expiration']}</strong>
                    <span id="VIPExpiration" class="blue">{::x####$####x::userpanel['buy_vip']['current_account_expiration']}</span>
                </li> 
			</ul>
        </div>
	</div>
    <div id="Command"></div>
    </if>

HTML;
/********** End: option_buyVIP **********/

/********** Begin: option_changeAvatar **********/
$CTM_TEMPLATE_DATABASE['option_changeAvatar'] = <<<HTML
	<script type="text/javascript">
	::x####$####x::(document).ready(function()
	{
		::x####$####x::('#file_upload').uploadify(
		{
			'buttonText' : "{::x####$####x::this->lang->words['UserPanel']['ChangeAvatar']['SelectImage']}",
			'uploader'  : "{::x####$####x::this->vars['board_url']}{::x####$####x::this->vars['style_dirs']['js']}uploadify/uploadify.swf",
			'script'    : "{::x####$####x::this->vars['board_url']}?run=uploadify",
			'cancelImg' : "{::x####$####x::this->vars['board_url']}{::x####$####x::this->vars['style_dirs']['js']}uploadify/cancel.png",
			'folder'    : "{::x####$####x::this->settings['WEBDATA']['UPLOADS']['DIRECTORY']['CHARIMAGE']}",
			'fileExt' : '*.jpg;*.jpeg;*.png;*.gif',
			'fileDesc'    : 'Images Files (*.jpg;*.jpeg, *.png;*.gif)',
			'auto'      : false,
			'sizeLimit'   : "{::x####$####x::this->settings['WEBDATA']['UPLOADS']['FILESIZE']['CHARIMAGE']}",
			'onComplete': function(event, queueID, fileObj, response, data)
			{
				::x####$####x::("#u_imageUploaded").val(response);
				::x####$####x::("#u_command").val("finish");
				CTM.AjaxLoad('?app=core&module=userpanel&option=changeAvatar&write=true','Command','ChangeAvatar');
				
				::x####$####x::("#u_command").val("begin");
			},
			'onSelect'    : function(event,ID,fileObj)
			{
				::x####$####x::("#u_imageChanged").val(1);
			},
			'onCancel'    : function(event,ID,fileObj)
			{
				::x####$####x::("#u_imageChanged").val(0);
			}
		});
		
		::x####$####x::(".ChangeCommand").click(function()
		{
			if(::x####$####x::(this).val() == "no_image")
			{
				::x####$####x::("#upload_image").hide("slow");
				::x####$####x::("#c_command").val("no_image");
			}
			else
			{
				::x####$####x::("#upload_image").show("slow");
				::x####$####x::("#c_command").val("upload");
			}
		});
		<if syntax="::x####$####x::userpanel['change_avatar']['with_avatar'] == false">
		::x####$####x::("#upload_image").hide("slow");
		</if>
	});
	function startUpload(uploadName, tmp_session)
	{
		::x####$####x::('#file_upload').uploadifySettings('scriptData',{'loadFunction':'ajaxUpload','fileSyntax':'.gif|.png|.jpg|.jpeg','fileName':uploadName,'fileSize':"{::x####$####x::this->settings['WEBDATA']['UPLOADS']['FILESIZE']['CHARIMAGE']}",'tmp_session':tmp_session},false);
		::x####$####x::('#file_upload').uploadifyUpload();
	}
	</script>
	<div class="box-content">
        <div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['ChangeAvatar']['Title']}</span></div>
		<form name="ChangeAvatar" id="ChangeAvatar">
			<input type="hidden" name="u_imageChanged" id="u_imageChanged" value="0" />
			<input type="hidden" name="u_imageUploaded" id="u_imageUploaded" value="" />
            <input type="hidden" name="u_command" id="u_command" value="begin" />
            <input type="hidden" name="c_command" id="c_command" value="{::x####$####x::userpanel['change_avatar']['c_command']}" />
			<table width="100%" border="0" cellspacing="0" cellpadding="0" class="tableBackColumn">
            	<tr>
                	<td>
                     	{::x####$####x::this->lang->words['UserPanel']['ChangeAvatar']['NoImage']}
                        <php>::x####$####x::no_image_checked = ::x####$####x::GLOBALS['userpanel']['change_avatar']['with_avatar'] == false ? " checked=\"checked\"" : NULL;</php>
                     	<input type="radio" name="ChangeCommand" class="ChangeCommand" value="no_image"{::x####$####x::no_image_checked} />
                     </td>
                </tr>
				<tr>
					 <td>
                     	{::x####$####x::this->lang->words['UserPanel']['ChangeAvatar']['SendImage']}
                        <php>::x####$####x::upload_checked = ::x####$####x::GLOBALS['userpanel']['change_avatar']['with_avatar'] == true ? " checked=\"checked\"" : NULL;</php>
                     	<input type="radio" name="ChangeCommand" class="ChangeCommand" value="upload"{::x####$####x::upload_checked} />
                     </td>
    				 <td width="50%"><div id="upload_image"><input id="file_upload" name="file_upload" type="file" /></div></td>
				  </tr>
			</table>
		</form>
		<input type="button" class="btn" value="{::x####$####x::this->lang->words['UserPanel']['ChangeAvatar']['Button']}" onclick="CTM.AjaxLoad('?app=core&amp;module=userpanel&amp;option=changeAvatar&amp;write=true','Command','ChangeAvatar');" />
    </div>
    <div id="Command"></div>
HTML;
/********** End: option_changeAvatar **********/

/********** Begin: option_changeClass **********/
$CTM_TEMPLATE_DATABASE['option_changeClass'] = <<<HTML
	<script type="text/javascript">
	::x####$####x::(function()
	{
		::x####$####x::("#ChangeClassNow").click(function()
		{
			Sexy.confirm("{::x####$####x::this->lang->words['UserPanel']['ChangeClass']['Confirm']}", {onComplete: function(e)
			{
				if(e)
					CTM.AjaxLoad('?app=core&module=userpanel&option=changeClass&write=true','Command','ChangeClass');
			}});
		});
	});
	</script>
	<div class="box-content">
        <div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['ChangeClass']['Title']}</span></div>
		<p>
			{::x####$####x::this->lang->words['UserPanel']['ChangeClass']['CurrentClass']} <b>{::x####$####x::userpanel['change_class']['current_class']}</b>.<br />
			<span class="red"> {::x####$####x::this->lang->words['UserPanel']['ChangeClass']['Warning']}</span>
		</p>
		<form name="ChangeClass" id="ChangeClass" class="frm">
			<label>{::x####$####x::this->lang->words['UserPanel']['ChangeClass']['SelectClass']['Label']}</label>
			<select name="NewClass" id="NewClass">
				<optgroup label="{::x####$####x::this->lang->words['UserPanel']['ChangeClass']['SelectClass'][1]}">
					<foreach loop="::x####$####x::userpanel['change_class']['select_class'][1] as ::x####$####x::key => ::x####$####x::class_name">
					<option value="1-{::x####$####x::key}">{::x####$####x::class_name}</option>
					</foreach>
				</optgroup>
				<optgroup label="{::x####$####x::this->lang->words['UserPanel']['ChangeClass']['SelectClass'][2]}">
					<foreach loop="::x####$####x::userpanel['change_class']['select_class'][2] as ::x####$####x::key => ::x####$####x::class_name">
					<option value="2-{::x####$####x::key}">{::x####$####x::class_name}</option>
					</foreach>
				</optgroup>
				<if syntax="MUSERVER_VERSION >= 4">
				<optgroup label="{::x####$####x::this->lang->words['UserPanel']['ChangeClass']['SelectClass'][3]}">
					<foreach loop="::x####$####x::userpanel['change_class']['select_class'][3] as ::x####$####x::key => ::x####$####x::class_name">
					<option value="3-{::x####$####x::key}">{::x####$####x::class_name}</option>
					</foreach>
				</optgroup>
				</if>
			</select>
		</form>
        <input type="button" class="btn" value="{::x####$####x::this->lang->words['UserPanel']['ChangeClass']['Button']}" id="ChangeClassNow" />
	</div>
	<div id="Command"></div>
HTML;
/********** End: option_changeClass **********/

/********** Begin: option_changeData **********/
$CTM_TEMPLATE_DATABASE['option_changeData'] = <<<HTML
	<script type="text/javascript">
	::x####$####x::(function()
	{
		::x####$####x::("#NewPassword").keyup(function()
        {
            return CTM.PasswordLevel("NewPassword", "NewPassResult");
        });
		::x####$####x::("#ChangeDataNow").click(function()
		{
			CTM.AjaxLoad("?app=core&module=userpanel&option=changeData&process=data", "ResultCommand", "ChangeData");
		});
		::x####$####x::("#ChangePasswordNow").click(function()
		{
			CTM.AjaxLoad("?app=core&module=userpanel&option=changeData&process=password", "ResultCommand", "ChangePassword");
		});
	});
	</script>
    <div class="box-content">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['ChangeData']['Title']}</span></div>
        <h3 style="float:left; display:inherit; clear:none; width:300px">{::x####$####x::this->lang->words['UserPanel']['ChangeData']['Data']['Title']}</h3>
		<h3 style="float:right; display:inherit; clear:none; width:380px"">{::x####$####x::this->lang->words['UserPanel']['ChangeData']['Password']['Title']}</h3>
        <form name="ChangeData" id="ChangeData" class="frm" style="float:left">
			<label>{::x####$####x::this->lang->words['UserPanel']['ChangeData']['Data']['Name']} </label>
			<input type="text" name="Name" id="Name" value="{::x####$####x::userpanel['change_data_infos']['name']}" size="30" />
            
			<label>{::x####$####x::this->lang->words['UserPanel']['ChangeData']['Data']['Mail']} </label>
			<input type="text" name="Mail" id="Mail" value="{::x####$####x::userpanel['change_data_infos']['mail']}" readonly="readonly" size="30" />
            
			<label>{::x####$####x::this->lang->words['UserPanel']['ChangeData']['Data']['Phone']} </label>
			<input type="text" name="Phone" id="Phone" value="{::x####$####x::userpanel['change_data_infos']['phone']}" size="30" />
            
            <br />
            <input type="button" id="ChangeDataNow" class="btn" value="{::x####$####x::this->lang->words['UserPanel']['ChangeData']['Data']['Button']}" />
		</form>
		<form name="ChangePassword" id="ChangePassword" class="frm" style="float:right; width:360px"">
			<label>{::x####$####x::this->lang->words['UserPanel']['ChangeData']['Password']['CurrentPassword']} </label>
			<input type="password" name="CurrentPassword" id="CurrentPassword" maxlength="10" size="30" />
            
			<label>{::x####$####x::this->lang->words['UserPanel']['ChangeData']['Password']['NewPassword']} </label>
			<input type="password" name="NewPassword" id="NewPassword" maxlength="10" size="30" /><span id="NewPassResult"></span>
            
			<label>{::x####$####x::this->lang->words['UserPanel']['ChangeData']['Password']['CNewPassword']} </label>
			<input type="password" name="CNewPassword" id="CNewPassword" maxlength="10" size="30" />
            
			<label>{::x####$####x::this->lang->words['UserPanel']['ChangeData']['Password']['SecureQuestion']} </label>
			<input type="text" name="SecureAnswer" id="SecureAnswer" size="30" />
            
            <br />
            <input type="button" id="ChangePasswordNow" class="btn" value="{::x####$####x::this->lang->words['UserPanel']['ChangeData']['Password']['Button']}" /> 
		</form>   
    </div>
    <div id="ResultCommand"></div>
HTML;
/********** End: option_changeData **********/

/********** Begin: option_changeMail **********/
$CTM_TEMPLATE_DATABASE['option_changeMail'] = <<<HTML
    <div class="box-content">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['ChangeMail']['Title']}</span></div>
        <form name="ChangeMail" id="ChangeMail" class="frm">
        	<table width="100%" border="0">
            	<tr>
                	<td><label>{::x####$####x::this->lang->words['UserPanel']['ChangeMail']['NewMail']}</label></td>
                    <td><input type="text" name="NewMail" id="NewMail" onKeyUp="this.value = this.value.toLowerCase();" size="32" /></td>
        		</tr>
                <tr>
                	<td><label>{::x####$####x::this->lang->words['UserPanel']['ChangeMail']['ConfirmCode']}</label></td>
                    <td><input type="text" name="ConfirmCode" id="ConfirmCode" onKeyUp="this.value = this.value.toUpperCase();" maxlength="23" size="32" /></td>
        		</tr>
        	</table>
        	<input type="button" value="{::x####$####x::this->lang->words['UserPanel']['ChangeMail']['Button_Process']}" onclick="CTM.AjaxLoad('?app=core&amp;module=userpanel&amp;option=changeMail&amp;do=process','Command','ChangeMail');" class="btn" />
            <input type="button" value="{::x####$####x::this->lang->words['UserPanel']['ChangeMail']['Button_SendCode']}" onclick="CTM.AjaxLoad('?app=core&amp;module=userpanel&amp;option=changeMail&amp;do=send_code','Command');" class="btn" />
        </form>
    </div>
    <div id="Command"></div>
HTML;
/********** End: option_changeMail **********/

/********** Begin: option_changeName **********/
$CTM_TEMPLATE_DATABASE['option_changeName'] = <<<HTML
	<div class="box-content">
        <div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['ChangeName']['Title']}</span></div>
        <p>
			{::x####$####x::this->lang->words['UserPanel']['ChangeName']['CurrentName']} <strong id="currentCharName">{::x####$####x::userpanel['character']}</strong>.
		</p>
		<form name="RenameCharacter" id="RenameCharacter" class="frm">
        	<label>{::x####$####x::this->lang->words['UserPanel']['ChangeName']['NewName']}</label>
            <input type="text" name="NewName" id="NewName" maxlength="10" />
            <br /><br />
			<img src="{::x####$####x::this->vars['captcha_image']}" style="border:none;" id="loadCaptcha" /> 
			<a href="javascript: void();" onclick="CTM.RefreshCaptcha('loadCaptcha');">
				<img src="{::x####$####x::this->vars['style_dirs']['images']}icons/refresh.png" border="0" title="{::x####$####x::this->lang->words['Global']['Captcha']['Refresh']}" />
			</a>
			<label>{::x####$####x::this->lang->words['Global']['Captcha']['Captcha']} </label>
			<input type="text" name="Captcha" id="Captcha" size="30" />
		</form>
        <input type="button" class="btn" value="{::x####$####x::this->lang->words['UserPanel']['ChangeName']['Button']}" onclick="CTM.AjaxLoad('?app=core&amp;module=userpanel&amp;option=changeName&amp;write=true','Command', 'RenameCharacter');" />
	</div>
	<div id="Command"></div>
HTML;
/********** End: option_changeName **********/

/********** Begin: option_changePID **********/
$CTM_TEMPLATE_DATABASE['option_changePID'] = <<<HTML
	<div class="box-content">
        <div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['ChangePID']['Title']}</span></div>
        <p>
			{::x####$####x::this->lang->words['UserPanel']['ChangePID']['Message']}
		</p>
		<form name="ChangePID" id="ChangePID" class="frm">
        	<label>{::x####$####x::this->lang->words['UserPanel']['ChangePID']['NewPID']}</label>
            	<input type="password" name="SetNewPID" id="SetNewPID" onkeypress="return CTM.NumbersOnly(event);" maxlength="7" size="10" />
           	<label>{::x####$####x::this->lang->words['UserPanel']['ChangePID']['Password']}</label>
				<input type="password" name="Password" id="Password" maxlength="10" size="15" />
            <label>{::x####$####x::this->lang->words['UserPanel']['ChangePID']['SecureQuestion']}</label>
				<input type="text" name="SecureAnswer" id="SecureAnswer" size="32" />
		</form>
        <input type="button" class="btn" value="{::x####$####x::this->lang->words['UserPanel']['ChangePID']['Button']}" onclick="CTM.AjaxLoad('?app=core&amp;module=userpanel&amp;option=changePID&amp;write=true','Command', 'ChangePID');" />
	</div>
	<div id="Command"></div>
HTML;
/********** End: option_changePID **********/

/********** Begin: option_clearCharacter **********/
$CTM_TEMPLATE_DATABASE['option_clearCharacter'] = <<<HTML
	<script type="text/javascript">
	::x####$####x::(function()
	{
		::x####$####x::('#clearNow').click(function()
		{
			count = 0;
			if(::x####$####x::("#ClearInventory_NO:checked").val()) count++;
			if(::x####$####x::("#ClearSkill_NO:checked").val()) count++;
			if(::x####$####x::("#ClearQuest_NO:checked").val()) count++;
			if(::x####$####x::("#ClearMoney_NO:checked").val()) count++;
			
			if(count == 4) CTM.Message("{::x####$####x::this->lang->words['UserPanel']['ClearCharacter']['Messages']['Error']}", 1, "Command");
			else CTM.AjaxLoad('?app=core&module=userpanel&option=clearCharacter&write=true','Command','Clear_Character');
		});
	});
	</script>
	<div class="box-content">
        <div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['ClearCharacter']['Title']}</span></div>
	   	<p>
            <span class="red">{::x####$####x::this->lang->words['UserPanel']['ClearCharacter']['Warning']}</span><br /><br />
            <b>{::x####$####x::this->lang->words['UserPanel']['ClearCharacter']['Select']}</b><br /><br />
			<form name="Clear_Character" id="Clear_Character">
				<table width="60%" border="0">
				  <tr>
					 <td width="16%">{::x####$####x::this->lang->words['UserPanel']['ClearCharacter']['Inventory']}</td>
					 <td width="86%"><span class="yesno_yes"><input type="radio" name="ClearInventory" id="ClearInventory_YES" value="1" /><label for="ClearInventory_YES">{::x####$####x::this->lang->words['Words']['Yes']}</label></span><span class="yesno_no"><input type="radio" name="ClearInventory" id="ClearInventory_NO" value="0" checked="checked" /><label for="ClearInventory_NO">{::x####$####x::this->lang->words['Words']['No']}</label></span></td>
				  </tr>
				  <tr>
					  <td>{::x####$####x::this->lang->words['UserPanel']['ClearCharacter']['Skill']}</td>
					  <td><span class="yesno_yes"><input type="radio" name="ClearSkill" id="ClearSkill_YES" value="1" /><label for="ClearSkill_YES">{::x####$####x::this->lang->words['Words']['Yes']}</label></span><span class="yesno_no"><input type="radio"  name="ClearSkill" id="ClearSkill_NO" value="0" checked="checked" /><label for="ClearSkill_NO">{::x####$####x::this->lang->words['Words']['No']}</label></span></td>
				  </tr>
  				  <tr>
					  <td>{::x####$####x::this->lang->words['UserPanel']['ClearCharacter']['Quests']}</td>
					  <td><span class="yesno_yes"><input type="radio" name="ClearQuest" id="ClearSkill_YES" value="1" /><label for="ClearQuest_YES">{::x####$####x::this->lang->words['Words']['Yes']}</label></span><span class="yesno_no"><input type="radio" name="ClearQuest" id="ClearQuest_NO" value="0" checked="checked" /><label for="ClearQuest_NO">{::x####$####x::this->lang->words['Words']['No']}</label></span></td>
				  </tr>
				  <tr>
					  <td>{::x####$####x::this->lang->words['UserPanel']['ClearCharacter']['Money']}</td>
					  <td><span class="yesno_yes"><input type="radio" name="ClearMoney" id="ClearMoney_YES" value="1" /><label for="ClearMoney_YES">{::x####$####x::this->lang->words['Words']['Yes']}</label></span><span class="yesno_no"><input type="radio" name="ClearMoney" id="ClearMoney_NO" value="0" checked="checked" /><label for="ClearMoney_NO">{::x####$####x::this->lang->words['Words']['No']}</label></span></td>
				  </tr>
				</table><br />
				<input type="button" class="btn" id="clearNow" value="{::x####$####x::this->lang->words['UserPanel']['ClearCharacter']['Button']}" />
			</form>
		</p>
	</div>
	<div id="Command"></div>
HTML;
/********** End: option_clearCharacter **********/

/********** Begin: option_clearPk **********/
$CTM_TEMPLATE_DATABASE['option_clearPk'] = <<<HTML
	<div class="box-content">
        <div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['ClearPk']['Title']}</span></div>
        	<p>
                <span class="red"> {::x####$####x::this->lang->words['UserPanel']['ClearPk']['RequireMoney']}</span><br /><br />
                <b>{::x####$####x::this->lang->words['UserPanel']['ClearPk']['Message']}</b><br /><br />
                <input type="button" class="btn" value="{::x####$####x::this->lang->words['UserPanel']['ClearPk']['Button']}" onclick="CTM.AjaxLoad('?app=core&amp;module=userpanel&amp;option=clearPk&amp;write=true','Command');" />
            </p>
	</div>
	<div id="Command"></div>
HTML;
/********** End: option_clearPk **********/

/********** Begin: option_convertCoin **********/
$CTM_TEMPLATE_DATABASE['option_convertCoin'] = <<<HTML
	<div class="box-content">
  <div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['ConvertCoin']['Title']}</span></div>
        <form name="ConvertCoin" id="ConvertCoin" class="frm" style="float:left">
        	<label>{::x####$####x::this->lang->words['UserPanel']['ConvertCoin']['Select']}</label>
			<select name="ConvertOption" id="ConvertOption">
				<option value="" disabled="disabled" selected="selected">{::x####$####x::this->lang->words['Words']['Select']}</option>
				<optgroup label="{::x####$####x::this->lang->words['UserPanel']['ConvertCoin']['Options'][1]}">
					<foreach loop="::x####$####x::this->settings['USERPANEL']['FINANCIAL']['CONVERT_COIN']['OPTIONS']['2_TO_1'] as ::x####$####x::key => ::x####$####x::value">
					<option value="0#{::x####$####x::key}">{::x####$####x::value} {const="COIN_NAME_2"} => {::x####$####x::key} {const="COIN_NAME_1"}</option>
					</foreach>
				</optgroup>
				<if syntax="COIN_NUMBER == 3">
				<optgroup label="{::x####$####x::this->lang->words['UserPanel']['ConvertCoin']['Options'][2]}">
					<foreach loop="::x####$####x::this->settings['USERPANEL']['FINANCIAL']['CONVERT_COIN']['OPTIONS']['3_TO_1'] as ::x####$####x::key => ::x####$####x::value">
					<option value="1#{::x####$####x::key}">{::x####$####x::value} {const="COIN_NAME_3"} => {::x####$####x::key} {const="COIN_NAME_1"}</option>
					</foreach>
				</optgroup>
				<optgroup label="{::x####$####x::this->lang->words['UserPanel']['ConvertCoin']['Options'][3]}">
					<foreach loop="::x####$####x::this->settings['USERPANEL']['FINANCIAL']['CONVERT_COIN']['OPTIONS']['3_TO_2'] as ::x####$####x::key => ::x####$####x::value">
					<option value="2#{::x####$####x::key}">{::x####$####x::value} {const="COIN_NAME_3"} => {::x####$####x::key} {const="COIN_NAME_2"}</option>
					</foreach>
				</optgroup>
				</if>
			</select>
			<br />
			<input type="button" class="btn" value="{::x####$####x::this->lang->words['UserPanel']['ConvertCoin']['Button']}" onClick="CTM.AjaxLoad('?app=core&amp;module=userpanel&amp;option=convertCoin&amp;write=true', 'Command', 'ConvertCoin');">
		</form>
        <div class="description">
        	<ul style="width:200px">
                <li>
                	<strong>{::x####$####x::this->lang->words['UserPanel']['ConvertCoin']['Balance_Coin'][1]}</strong>
                    <span class="green" id="Balance_1">{::x####$####x::userpanel['convertcoin']['balance_coin'][1]}</span>
                </li>
                <li>
                	<strong>{::x####$####x::this->lang->words['UserPanel']['ConvertCoin']['Balance_Coin'][2]}</strong>
                    <span class="green" id="Balance_2">{::x####$####x::userpanel['convertcoin']['balance_coin'][2]}</span>
                </li>
                <if syntax="COIN_NUMBER == 3">
                <li>
                	<strong>{::x####$####x::this->lang->words['UserPanel']['ConvertCoin']['Balance_Coin'][3]}</strong>
                    <span class="green" id="Balance_3">{::x####$####x::userpanel['convertcoin']['balance_coin'][3]}</span>
                </li>
                </if>
			</ul>
		</div>
	</div>
    <div id="Command"></div>
HTML;
/********** End: option_convertCoin **********/

/********** Begin: option_disconnectGame **********/
$CTM_TEMPLATE_DATABASE['option_disconnectGame'] = <<<HTML
    <div class="box-content">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['DisconnectGame']['Title']}</span></div>
        <if syntax="::x####$####x::userpanel['disconnect_game']['status'] == 1">
        <p>{::x####$####x::this->lang->words['UserPanel']['DisconnectGame']['Message']}</p>
        <input type="button" name="disconnectGame" id="disconnectGame" value="{::x####$####x::this->lang->words['UserPanel']['DisconnectGame']['Button']}" class="btn" onclick="CTM.AjaxLoad('?app=core&module=userpanel&option=disconnectGame&do=process', 'loadCommand');" />
        <else />
        <div class="error-box"> {::x####$####x::this->lang->words['UserPanel']['DisconnectGame']['Messages']['Offline']}</div>
        </if>
    </div>
    <div id="loadCommand"></div>
HTML;
/********** End: option_disconnectGame **********/

/********** Begin: option_distributePoints **********/
$CTM_TEMPLATE_DATABASE['option_distributePoints'] = <<<HTML
	<div class="box-content">
        <div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['DistributePoints']['Title']}</span></div>
        <form name="DistributePoints" id="DistributePoints" class="frm" style="float:left">
        	<label>{::x####$####x::this->lang->words['UserPanel']['DistributePoints']['Distribute']['Strength']} </label>
        	<input type="text" name="Strength" id="Strength" onKeyPress="return CTM.NumbersOnly(event);" maxlength="5" size="30" value="0" />
            <label>{::x####$####x::this->lang->words['UserPanel']['DistributePoints']['Distribute']['Dexterity']} </label>
			<input type="text" name="Dexterity" id="Dexterity" onKeyPress="return CTM.NumbersOnly(event);" maxlength="5" size="30" value="0" />
            <label>{::x####$####x::this->lang->words['UserPanel']['DistributePoints']['Distribute']['Vitality']} </label>
			<input type="text" name="Vitality" id="Vitality" onKeyPress="return CTM.NumbersOnly(event);" maxlength="5" size="30" value="0" />
            <label>{::x####$####x::this->lang->words['UserPanel']['DistributePoints']['Distribute']['Energy']} </label>
			<input type="text" name="Energy" id="Energy" onKeyPress="return CTM.NumbersOnly(event);" maxlength="5" size="30" value="0" />
            <if syntax="::x####$####x::userpanel['distribute_points']['class_is_lord'] == true">
            <label>{::x####$####x::this->lang->words['UserPanel']['DistributePoints']['Distribute']['Command']} </label>
			<input type="text" name="setCommand" id="setCommand" onKeyPress="return CTM.NumbersOnly(event);" maxlength="5" size="30" value="0" />
            </if>
            <br />
            <input type="button" class="btn" value="{::x####$####x::this->lang->words['UserPanel']['DistributePoints']['Button']}" onClick="CTM.AjaxLoad('?app=core&amp;module=userpanel&amp;option=distributePoints&amp;write=true','Command','DistributePoints');">
        </form>
        <div class="description">
        	<ul style="width:200px">
                <li><span class="blue-ocean"><strong>{::x####$####x::this->lang->words['UserPanel']['DistributePoints']['Status']['Title']}</strong></span></li>
                <li><strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['DistributePoints']['Status']['Points']}</strong> {::x####$####x::userpanel['distribute_points']['before_points']['points']}</li> 
                <li><strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['DistributePoints']['Status']['Strength']}</strong> {::x####$####x::userpanel['distribute_points']['before_points']['strength']}</li> 
                <li><strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['DistributePoints']['Status']['Dexterity']}</strong> {::x####$####x::userpanel['distribute_points']['before_points']['dexterity']}</li> 
                <li><strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['DistributePoints']['Status']['Vitality']}</strong> {::x####$####x::userpanel['distribute_points']['before_points']['vitality']}</li> 
                <li><strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['DistributePoints']['Status']['Energy']}</strong> {::x####$####x::userpanel['distribute_points']['before_points']['energy']}</li>
                <if syntax="::x####$####x::userpanel['distribute_points']['class_is_lord'] == true">
                <li><strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['DistributePoints']['Status']['Command']}</strong> {::x####$####x::userpanel['distribute_points']['before_points']['command']}</li> 
                </if>
			</ul>
        </div>
	</div>
	<div id="Command"></div>
HTML;
/********** End: option_distributePoints **********/

/********** Begin: option_home **********/
$CTM_TEMPLATE_DATABASE['option_home'] = <<<HTML
	<script type="text/javascript">
	::x####$####x::(document).ready(function(e)
	{
		::x####$####x::(".ManageChar").click(function()
		{
			var charName = encodeURIComponent(::x####$####x::(this).attr("rel"));
			CTM.AjaxLoad('?app=core&module=userpanel&option=manageChar&write=true&character='+charName, "HomeCommand");
		});
		
		<if syntax="::x####$####x::userpanel['home_block_info']">
		if(e)
		{
			blockMessage = "<strong>{::x####$####x::this->lang->words['UserPanel']['Home']['BlockMessage']['Title']}</strong><br /><br />::x####code:n####x::";
			blockMessage += "<strong>{::x####$####x::this->lang->words['UserPanel']['Home']['BlockMessage']['Reason']}</strong> {::x####$####x::userpanel['home_block_info']['reason']}<br />::x####code:n####x::";
			blockMessage += "<strong>{::x####$####x::this->lang->words['UserPanel']['Home']['BlockMessage']['Responsible']}</strong> {::x####$####x::userpanel['home_block_info']['responsible']}<br />::x####code:n####x::";
			blockMessage += "<strong>{::x####$####x::this->lang->words['UserPanel']['Home']['BlockMessage']['Expiration']}</strong> {::x####$####x::userpanel['home_block_info']['expiration']}";
			
			Sexy.alert(blockMessage);
		}
		</if>
	});
    </script>
    <div class="box-content">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['Home']['Title']}</span></div>
        <table width="100%" border="0" align="center" cellpadding="7" class="tableBackColumn">
			<tr>
            	<td width="50%"><em>{::x####$####x::this->lang->words['UserPanel']['Home']['Member']['Plan']}</em></td>
                <td width="50%">
                	{::x####$####x::userpanel['home_informations']['member_level']}
                    ({::x####$####x::this->lang->words['UserPanel']['Home']['Member']['Expiration']} {::x####$####x::userpanel['home_informations']['member_vip']['end']})
                </td>
        	</tr>
            <tr>
            	<td><em>{::x####$####x::this->lang->words['UserPanel']['Home']['Member']['CoinBalance'][1]}</em></td>
                <td>{::x####$####x::userpanel['home_informations']['member_coin'][1]}</td>
        	</tr>
            <if syntax="COIN_NUMBER >= 2">
            <tr>
            	<td><em>{::x####$####x::this->lang->words['UserPanel']['Home']['Member']['CoinBalance'][2]}</em></td>
                <td>{::x####$####x::userpanel['home_informations']['member_coin'][2]}</td>
        	</tr>
            </if>
            <if syntax="COIN_NUMBER == 3">
            <tr>
            	<td><em>{::x####$####x::this->lang->words['UserPanel']['Home']['Member']['CoinBalance'][3]}</em></td>
                <td>{::x####$####x::userpanel['home_informations']['member_coin'][3]}</td>
        	</tr>
            </if>
        </table>
    </div>
    <div class="box-content">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['Home']['LastConnection']['Title']}</span></div>
        <table width="100%" border="0" align="center" cellpadding="7" class="tableBackColumn">
        	<tr>
            	<td width="50%"><em>{::x####$####x::this->lang->words['UserPanel']['Home']['LastConnection']['Date']}</em></td>
                <td width="50%">{::x####$####x::userpanel['home_lastconnection']['date']}</td>
        	</tr>
            <tr>
            	<td><em>{::x####$####x::this->lang->words['UserPanel']['Home']['LastConnection']['Hour']}</em></td>
                <td>{::x####$####x::userpanel['home_lastconnection']['hour']}</td>
        	</tr>
            <tr>
            	<td><em>{::x####$####x::this->lang->words['UserPanel']['Home']['LastConnection']['Server']}</em></td>
                <td>{::x####$####x::userpanel['home_lastconnection']['server']}</td>
        	</tr>
            <tr>
            	<td><em>{::x####$####x::this->lang->words['UserPanel']['Home']['LastConnection']['IP']}</em></td>
                <td>{::x####$####x::userpanel['home_lastconnection']['ip']}</td>
        	</tr>
            <tr>
            	<td><em>{::x####$####x::this->lang->words['UserPanel']['Home']['LastConnection']['Status']}</em></td>
                <td>
                	<if syntax="::x####$####x::userpanel['home_lastconnection']['status'] == 1">
                    <span style="color: green;">Online</span>
                    <if syntax="::x####$####x::this->settings['USERPANEL']['PERMISSION']['ACCOUNT']['DISCONNECT_GAME'][::x####$####x::userpanel['user_level'] + 1] == true">
                    <a href="javascript: void(0);" onclick="CTM.AjaxLoad('?app=core&amp;module=userpanel&amp;option=disconnectGame&amp;do=process', 'HomeCommand');">
                    	[{::x####$####x::this->lang->words['UserPanel']['Home']['LastConnection']['Disconnect']}]
                    </a>
                    </if>
                    <else />
                    <span style="color: red;">Offline</span>
                    </if>
				</td>
        	</tr>
    	</table>
    </div>
    <if syntax="count(::x####$####x::userpanel['home_characters']) > 0">
    <div class="box-content">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['Home']['Characters']['Title']}</span></div>
        <table width="100%" border="0" align="center" cellpadding="7" class="tableBackColumn">
        	<tr>
            	<td><em><strong>{::x####$####x::this->lang->words['UserPanel']['Home']['Characters']['Name']}</strong></em></td>
                <td><em><strong>{::x####$####x::this->lang->words['UserPanel']['Home']['Characters']['Class']}</strong></em></td>
                <td><em><strong>{::x####$####x::this->lang->words['UserPanel']['Home']['Characters']['Level']}</strong></em></td>
                <td><em><strong>{::x####$####x::this->lang->words['UserPanel']['Home']['Characters']['Guild']}</strong></em></td>
                <td><em><strong>{::x####$####x::this->lang->words['UserPanel']['Home']['Characters']['Manage']}</strong></em></td>
        	</tr>
            <foreach loop="::x####$####x::userpanel['home_characters'] as ::x####$####x::character">
            <tr>
                <td>{::x####$####x::character['name']}</td>
                <td>{::x####$####x::character['class']}</td>
                <td>{::x####$####x::character['level']}</td>
                <td>{::x####$####x::character['guild']}</td>
                <td><a href="javascript: void(0);" class="ManageChar" rel="{::x####$####x::character['name']}">[{::x####$####x::this->lang->words['UserPanel']['Home']['Characters']['ManageLink']}]</a></td>
        	</tr>
            </foreach>
    	</table>
    </div>
    </if>
    <div id="HomeCommand"></div>
    <if syntax="count(::x####$####x::userpanel['home_chars_blocked']) > 0">
    <foreach loop="::x####$####x::userpanel['home_chars_blocked'] as ::x####$####x::message">
    <div class="error-box">{::x####$####x::message}</div>
    </foreach>
    </if>
HTML;
/********** End: option_home **********/

/********** Begin: option_invoices **********/
$CTM_TEMPLATE_DATABASE['option_invoices'] = <<<HTML
	<if syntax="::x####$####x::userpanel['payments']['auto_load_invoice']">
	<script type="text/javascript">
	::x####$####x::(document).ready(function(e)
	{
		if(e)
			CTM.AjaxLoad("?app=core&module=userpanel&option=invoices&section=list&showinvoice={::x####$####x::userpanel['invoices']['auto_load_invoice']}", 'loadSection');
	});
	</script>
    </if>
    <div class="box-content">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['Invoices']['Title']}</span></div>
        <div align="center">
            <input type="button" value="{::x####$####x::this->lang->words['UserPanel']['Invoices']['Menu']['List']}" onclick="CTM.AjaxLoad('?app=core&amp;module=userpanel&amp;option=invoices&amp;section=list','loadSection');" class="btn" />
            <input type="button" value="{::x####$####x::this->lang->words['UserPanel']['Invoices']['Menu']['Open']}" onclick="CTM.AjaxLoad('?app=core&amp;module=userpanel&amp;option=invoices&amp;section=open','loadSection');" class="btn" />
		</div>
    </div>
	<div id="loadSection"></div>
HTML;
/********** End: option_invoices **********/

/********** Begin: option_invoices_list **********/
$CTM_TEMPLATE_DATABASE['option_invoices_list'] = <<<HTML
	<script type="text/javascript">
	::x####$####x::(function()
	{
		::x####$####x::('#invoice_tabs').tabs({ fx: { opacity: 'toggle' } });
	});
	<if syntax="::x####$####x::userpanel['invoices']['auto_load_invoice']">
	::x####$####x::(document).ready(function(e)
	{
		if(e) showInvoice("{::x####$####x::userpanel['invoices']['auto_load_invoice']}");
	});
	</if>
	function showInvoice(id)
	{
		CTM.AjaxLoad('?app=core&module=userpanel&option=invoices&section=show&id='+id, '*showInvoice');
	}
	</script>
    <div class="box-content">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Title']}</span></div>
        <br />
		<div id="invoice_tabs">
			<ul>
				<li><a href="#invoice_tabs-1">{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Tabs']['Opened']}</a></li>
				<li><a href="#invoice_tabs-2">{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Tabs']['Finalized']}</a></li>
                <li><a href="#invoice_tabs-3">{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Tabs']['Canceled']}</a></li>
			</ul>
			<div id="invoice_tabs-1">
            	<if syntax="count(::x####$####x::userpanel['invoices']['list_invoices']['opened']) > 0">
                <table width="100%" border="0" class="tableBackColumn">
                    <thead>
                        <tr>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Table']['ID']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Table']['Quantity']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Table']['Value']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Table']['Date']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Table']['Status']}</strong></th>
                        </tr>
                    </thead>
                    <tbody>
                        <foreach loop="::x####$####x::userpanel['invoices']['list_invoices']['opened'] as ::x####$####x::id => ::x####$####x::invoice">
                        <tr onclick="showInvoice({::x####$####x::id});" style="cursor: pointer;">
                            <td>#{::x####$####x::invoice['document']}</td>
                            <td>{::x####$####x::invoice['quantity']}</td>
                            <td>{::x####$####x::invoice['value']}</td>
                            <td>{::x####$####x::invoice['date']}</td>
                            <td>{::x####$####x::invoice['status']}</td>
                        </tr>
                        </foreach>
                    </tbody>
                </table>
            	<else />
            	<div class="info-box">{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Messages']['NoOpened']}</div>
            	</if>
            </div>
            
			<div id="invoice_tabs-2">
            	<if syntax="count(::x####$####x::userpanel['invoices']['list_invoices']['finalized']) > 0">
                <table width="100%" border="0" class="tableBackColumn">
                    <thead>
                        <tr>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Table']['ID']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Table']['Quantity']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Table']['Value']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Table']['Date']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Table']['Status']}</strong></th>
                        </tr>
                    </thead>
                    <tbody>
                        <foreach loop="::x####$####x::userpanel['invoices']['list_invoices']['finalized'] as ::x####$####x::id => ::x####$####x::invoice">
                        <tr onclick="showInvoice({::x####$####x::id});" style="cursor: pointer;">
                            <td>#{::x####$####x::invoice['document']}</td>
                            <td>{::x####$####x::invoice['quantity']}</td>
                            <td>{::x####$####x::invoice['value']}</td>
                            <td>{::x####$####x::invoice['date']}</td>
                            <td>{::x####$####x::invoice['status']}</td>
                        </tr>
                        </foreach>
                    </tbody>
                </table>
            	<else />
            	<div class="info-box">{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Messages']['NoFinalized']}</div>
            	</if>
            </div>
            
            <div id="invoice_tabs-3">
            	<if syntax="count(::x####$####x::userpanel['invoices']['list_invoices']['canceled']) > 0">
                <table width="100%" border="0" class="tableBackColumn">
                    <thead>
                        <tr>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Table']['ID']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Table']['Quantity']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Table']['Value']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Table']['Date']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Table']['Status']}</strong></th>
                        </tr>
                    </thead>
                    <tbody>
                        <foreach loop="::x####$####x::userpanel['invoices']['list_invoices']['canceled'] as ::x####$####x::id => ::x####$####x::invoice">
                        <tr onclick="showInvoice({::x####$####x::id});" style="cursor: pointer;">
                            <td>#{::x####$####x::invoice['document']}</td>
                            <td>{::x####$####x::invoice['quantity']}</td>
                            <td>{::x####$####x::invoice['value']}</td>
                            <td>{::x####$####x::invoice['date']}</td>
                            <td>{::x####$####x::invoice['status']}</td>
                        </tr>
                        </foreach>
                    </tbody>
                </table>
            	<else />
            	<div class="info-box">{::x####$####x::this->lang->words['UserPanel']['Invoices']['ListInvoices']['Messages']['NoCanceled']}</div>
            	</if>
            </div>
		</div>
	</div>
    <div id="showInvoice"></div>
HTML;
/********** End: option_invoices_list **********/

/********** Begin: option_invoices_open **********/
$CTM_TEMPLATE_DATABASE['option_invoices_open'] = <<<HTML
	<script type="text/javascript">
	function runOpenInvoice(invoice_id)
	{
		Sexy.info("{::x####$####x::this->lang->words['UserPanel']['Invoices']['OpenInvoice']['Messages']['Success']}", { onComplete: function()
		{
			CTM.AjaxLoad("?app=core&module=userpanel&option=invoices&section=show&id="+invoice_id, ".loadSection");
		}});
	}
	
	function showConfirmMessage(value)
	{
		Sexy.confirm("{::x####$####x::this->lang->words['UserPanel']['Invoices']['OpenInvoice']['Messages']['Confirm']}".replace("{MONEY_VALUE}", value), { onComplete: function(e)
		{
			if(e == true)
			{
				CTM.AjaxLoad("?app=core&module=userpanel&option=invoices&section=open&write=true&confirm=true", "openCommand", "OpenInvoice");
			}	
		}});
	}
	
	::x####$####x::(function()
	{
		::x####$####x::("#Quantity").keyup(function()
		{
			var money_value = {const="COIN_PRICE"} * ::x####$####x::("#Quantity").val();
			
			if(strstr(money_value, "."))
			{
				var money = money_value.split(".");
				
				if(money[1].lenght > 2)
					money[1] = money[1].substr(0, 2);
					
				while((money[1] % 5) != 0 && money[1] > 0)
				{
					if(money[1] < 5 && money[1] > 0)
						money[1] = 5;
					else
						money[1]++;
				}
				
				if(money[1].lenght == 1)
					money[1] = "0" + money[1];
					
				var final_money = money[0] + "." + money[1];
			}
			else
			{
				var final_money = money_value + ".00";
			}
			
			final_money = final_money.replace(".", ",");
			
			::x####$####x::("#MoneyValue").text(final_money);
		});
		
		::x####$####x::("#continue").click(function()
		{
			CTM.AjaxLoad("?app=core&module=userpanel&option=invoices&section=open&write=true", "openCommand", "OpenInvoice");
		});
	});
	</script>
    <div class="box-content">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['Invoices']['OpenInvoice']['Title']}</span></div>
		<form name="OpenInvoice" id="OpenInvoice" class="frm" style="float:left">
        	<label>{::x####$####x::this->lang->words['UserPanel']['Invoices']['OpenInvoice']['CoinQuantity']}</label>
			<input type="text" name="Quantity" id="Quantity" value="1" size="5" onkeypress="return CTM.NumbersOnly(event);" />
            <br />
            <input type="button" name="continue" id="continue" value="{::x####$####x::this->lang->words['UserPanel']['Invoices']['OpenInvoice']['Button']}" class="btn" />
		</form>
        <div class="description">
        	<ul style="width:300px">
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['Invoices']['OpenInvoice']['CoinPrice']}</strong> 
                    <span class="green">{const="MONEY_SYMBOL"} {::x####$####x::default_value}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['Invoices']['OpenInvoice']['MoneyValue']}</strong>
                    <span class="red">{const="MONEY_SYMBOL"} <span id="MoneyValue">{::x####$####x::default_value}</span></span>
                </li> 
			</ul>
        </div>
	</div>
    <div id="openCommand"></div>
HTML;
/********** End: option_invoices_open **********/

/********** Begin: option_invoices_show **********/
$CTM_TEMPLATE_DATABASE['option_invoices_show'] = <<<HTML
	<script type="text/javascript">
	::x####$####x::(function()
	{
		::x####$####x::("#open_bank_window").click(function()
		{
			::x####$####x::.facebox({ div: "#bank_window" });
		});
	});
	
	function confirm_bank_payment()
	{
		//::x####$####x::(document).trigger('close.facebox');
		::x####$####x::.fancybox(
		{
			ajax :
			{
				type : "GET",
			},
			href : "?app=core&module=userpanel&option=invoices&section=show&id={::x####$####x::userpanel['invoices']['show_invoice']['id']}&do=payment&ajaxLoadSet=true"
		});
		
		//::x####$####x::.facebox({ ajax: "?app=core&module=userpanel&option=invoices&section=show&id={::x####$####x::userpanel['invoices']['show_invoice']['id']}&do=payment&ajaxLoadSet=true" });
	}
	</script>
    <div id="bank_window" style="display: none">
    	<div class="box-content">
            <div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ShowInvoice']['BankWindow']['Title']}</span></div>
            <p> 
                <strong>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ShowInvoice']['BankWindow']['Info'][1]}</strong><br />
                &raquo; {::x####$####x::this->lang->words['UserPanel']['Invoices']['ShowInvoice']['BankWindow']['Info'][2]}<br /><br />
                <strong>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ShowInvoice']['BankWindow']['Info'][3]}</strong><br />
                &raquo; {::x####$####x::this->lang->words['UserPanel']['Invoices']['ShowInvoice']['BankWindow']['Info'][4]}<br /><br />
            </p>
            <if syntax="count(::x####$####x::this->settings['PAYMENTMETHOD']['BANK']) > 0">
            <foreach loop="::x####$####x::this->settings['PAYMENTMETHOD']['BANK'] as ::x####$####x::_key => ::x####$####x::trash">
            <div class="blockquote">
                <foreach loop="::x####$####x::this->settings['PAYMENTMETHOD']['BANK'][::x####$####x::_key] as ::x####$####x::k => ::x####$####x::_trash">
                <foreach loop="::x####$####x::this->settings['PAYMENTMETHOD']['BANK'][::x####$####x::_key][::x####$####x::k] as ::x####$####x::key => ::x####$####x::value">
                &raquo; <strong>{::x####$####x::key}</strong> {::x####$####x::value}<br />
                </foreach>
                </foreach>
            </div>
            </foreach>
            </if>
            <div align="center">
                <input type="button" value="{::x####$####x::this->lang->words['UserPanel']['Invoices']['ShowInvoice']['BankWindow']['Confirm']}" class="btn" onclick="confirm_bank_payment();" />
            </div>
        </div>
    </div>
    </if>
    <div class="box-content">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ShowInvoice']['Title']}</span></div>
        <br />
        
        <h4>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ShowInvoice']['InvoiceInfos']['Title']}</h4>
        <table width="100%" border="0" class="tableBackColumn">
			<tr>
				<td>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ShowInvoice']['InvoiceInfos']['Document']}</td>
				<td width="60%">{::x####$####x::userpanel['invoices']['show_invoice']['document']}</td>
			</tr>
            <tr>
				<td>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ShowInvoice']['InvoiceInfos']['StartDate']}</td>
				<td>{::x####$####x::userpanel['invoices']['show_invoice']['start_date']}</td>
			</tr>
            <tr>
				<td>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ShowInvoice']['InvoiceInfos']['Quantity']}</td>
				<td>{::x####$####x::userpanel['invoices']['show_invoice']['quantity']}</td>
			</tr>
            <tr>
				<td>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ShowInvoice']['InvoiceInfos']['Value']}</td>
				<td>{::x####$####x::userpanel['invoices']['show_invoice']['value']}</td>
			</tr>
			<tr>
				<td>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ShowInvoice']['InvoiceInfos']['Status']}</td>
				<td>{::x####$####x::userpanel['invoices']['show_invoice']['status']}</td>
			</tr>
		</table>
        
        <if syntax="::x####$####x::userpanel['invoices']['show_invoice']['payment_method']">
        <br />
        
        <h4>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ShowInvoice']['PaymentMethod']['Title']}</h4>
        <table width="100%" border="0" class="tableBackColumn">
			<tr>
				<td>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ShowInvoice']['PaymentMethod']['Method']}</td>
				<td width="60%">{::x####$####x::userpanel['invoices']['show_invoice']['payment_method']['method']}</td>
			</tr>
            <if syntax="::x####$####x::userpanel['invoices']['show_invoice']['payment_method']['key'] == 'bank'">
            <tr>
				<td>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ShowInvoice']['PaymentMethod']['Bank']['Title']}</td>
				<td width="60%"><a href="javascript: void();" onclick="confirm_bank_payment();">[ {::x####$####x::this->lang->words['UserPanel']['Invoices']['ShowInvoice']['PaymentMethod']['Bank']['Value']} ]</a></td>
			</tr>
            <else />
			<if syntax="count(::x####$####x::userpanel['invoices']['show_invoice']['payment_method']['data']) > 0">
            <foreach loop="::x####$####x::userpanel['invoices']['show_invoice']['payment_method']['data'] as ::x####$####x::key => ::x####$####x::value">
			<tr>
				<td>{::x####$####x::key}</td>
				<td>{::x####$####x::value}</td>
			</tr>
			</foreach>
            </if>
            </if>
		</table>
        <else />
        <if syntax="::x####$####x::userpanel['invoices']['show_invoice']['canceled'] == false">
        <br />
        
        <h4>{::x####$####x::this->lang->words['UserPanel']['Invoices']['ShowInvoice']['Pay']['Title']}</h4>
        <div align="center">
            <input type="button" value="{::x####$####x::this->lang->words['UserPanel']['Invoices']['ShowInvoice']['Pay']['Bank']}" id="open_bank_window" class="btn" />
		</div>
        </if>
        </if>
	</div>
HTML;
/********** End: option_invoices_show **********/

/********** Begin: option_manageChar **********/
$CTM_TEMPLATE_DATABASE['option_manageChar'] = <<<HTML
	<div class="box-content">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['ManageChar']['Title']}</span></div>
        <if syntax="count(::x####$####x::userpanel['manage_char']['characters']) > 0">
        <script type="text/javascript">
		::x####$####x::(document).ready(function()
		{
			::x####$####x::(".CharLink").click(function()
			{
				var charName = encodeURIComponent(::x####$####x::(this).attr("rel"));
				CTM.AjaxLoad('?app=core&module=userpanel&option=manageChar&write=true&character='+charName, 'loadCommand');
			});
		});
		</script>
        <style type="text/css">
		li.CharLink:hover
		{
			background:#E8F8FF;
			cursor: pointer;
		}
		</style>
        <p>{::x####$####x::this->lang->words['UserPanel']['ManageChar']['Mesage']}</p>
        <ul class="rank">
          	<foreach loop="::x####$####x::userpanel['manage_char']['characters'] as ::x####$####x::character">
            <li class="CharLink" rel="{::x####$####x::character['name']}">
                <img src="{::x####$####x::character['image']}" width="50" height="50">
                <p><strong></strong>{::x####$####x::character['name']}</p>
                <p><strong>{::x####$####x::this->lang->words['UserPanel']['ManageChar']['Level']} </strong><span class="blue">{::x####$####x::character['level']}</span></p>
                <p><strong>{::x####$####x::this->lang->words['UserPanel']['ManageChar']['Guild']} </strong><span class="blue">{::x####$####x::character['guild']}</span></p>
            </li>   
            </foreach>
		</ul>
        <else />
        <div class="info-box"> {::x####$####x::this->lang->words['UserPanel']['ManageChar']['Messages']['NoChars']}</div>
        </if>
    </div>
    <div id="loadCommand"></div>
HTML;
/********** End: option_manageChar **********/

/********** Begin: option_manageProfile **********/
$CTM_TEMPLATE_DATABASE['option_manageProfile'] = <<<HTML
    <div class="box-content">
        <div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['ManageProfile']['Title']}</span></div>
	   	<p>
            <b>{::x####$####x::this->lang->words['UserPanel']['ManageProfile']['Message']}</b><br /><br />
			<form name="UpdateProfile" id="UpdateProfile">
				<table width="60%" border="0">
					<tr>
						<td>{::x####$####x::this->lang->words['UserPanel']['ManageProfile']['ShowProfile']}</td>
						<td>
                        	<php>
                            	::x####$####x::show_profile_yes = ::x####$####x::GLOBALS['userpanel']['manage_profile']['profile_data']['show_profile'] == true ? " checked=\"checked\"" : NULL;
								::x####$####x::show_profile_no = ::x####$####x::GLOBALS['userpanel']['manage_profile']['profile_data']['show_profile'] == false ? " checked=\"checked\"" : NULL;
                        	</php>
                            
                            <span class="yesno_yes">
                            	<input type="radio" name="ShowProfile" id="ShowProfile_YES" value="1"{::x####$####x::show_profile_yes} />
                                <label for="ShowProfile_YES">{::x####$####x::this->lang->words['Words']['Yes']}</label></span><span class="yesno_no">
                                <input type="radio" name="ShowProfile" id="ShowProfile_NO" value="0"{::x####$####x::show_profile_no} />
                                <label for="ShowProfile_NO">{::x####$####x::this->lang->words['Words']['No']}</label></span>
						</td>
					</tr>
                    <tr>
						<td>{::x####$####x::this->lang->words['UserPanel']['ManageProfile']['ShowSkills']}</td>
						<td>
                        	<php>
                            	::x####$####x::show_skills_yes = ::x####$####x::GLOBALS['userpanel']['manage_profile']['profile_data']['show_skills'] == true ? " checked=\"checked\"" : NULL;
								::x####$####x::show_skills_no = ::x####$####x::GLOBALS['userpanel']['manage_profile']['profile_data']['show_skills'] == false ? " checked=\"checked\"" : NULL;
                        	</php>
                            
                            <span class="yesno_yes">
                            	<input type="radio" name="ShowSkills" id="ShowSkills_YES" value="1"{::x####$####x::show_profile_yes} />
                                <label for="ShowSkills_YES">{::x####$####x::this->lang->words['Words']['Yes']}</label></span><span class="yesno_no">
                                <input type="radio" name="ShowSkills" id="ShowSkills_NO" value="0"{::x####$####x::show_profile_no} />
                                <label for="ShowSkills_NO">{::x####$####x::this->lang->words['Words']['No']}</label></span>
						</td>
					</tr>
                    <tr>
						<td>{::x####$####x::this->lang->words['UserPanel']['ManageProfile']['ShowResets']}</td>
						<td>
                        	<php>
                            	::x####$####x::show_skills_yes = ::x####$####x::GLOBALS['userpanel']['manage_profile']['profile_data']['show_resets'] == true ? " checked=\"checked\"" : NULL;
								::x####$####x::show_skills_no = ::x####$####x::GLOBALS['userpanel']['manage_profile']['profile_data']['show_resets'] == false ? " checked=\"checked\"" : NULL;
                        	</php>
                            
                            <span class="yesno_yes">
                            	<input type="radio" name="ShowResets" id="ShowResets_YES" value="1"{::x####$####x::show_profile_yes} />
                                <label for="ShowResets_YES">{::x####$####x::this->lang->words['Words']['Yes']}</label></span><span class="yesno_no">
                                <input type="radio" name="ShowResets" id="ShowResets_NO" value="0"{::x####$####x::show_profile_no} />
                                <label for="ShowResets_NO">{::x####$####x::this->lang->words['Words']['No']}</label></span>
						</td>
					</tr>
                    <tr>
						<td>{::x####$####x::this->lang->words['UserPanel']['ManageProfile']['ShowMap']}</td>
						<td>
                        	<php>
                            	::x####$####x::show_skills_yes = ::x####$####x::GLOBALS['userpanel']['manage_profile']['profile_data']['show_map'] == true ? " checked=\"checked\"" : NULL;
								::x####$####x::show_skills_no = ::x####$####x::GLOBALS['userpanel']['manage_profile']['profile_data']['show_map'] == false ? " checked=\"checked\"" : NULL;
                        	</php>
                            
                            <span class="yesno_yes">
                            	<input type="radio" name="ShowMap" id="ShowMap_YES" value="1"{::x####$####x::show_profile_yes} />
                                <label for="ShowMap_YES">{::x####$####x::this->lang->words['Words']['Yes']}</label></span><span class="yesno_no">
                                <input type="radio" name="ShowMap" id="ShowMap_NO" value="0"{::x####$####x::show_profile_no} />
                                <label for="ShowMap_NO">{::x####$####x::this->lang->words['Words']['No']}</label></span>
						</td>
					</tr>
                    <tr>
						<td>{::x####$####x::this->lang->words['UserPanel']['ManageProfile']['ShowStatus']}</td>
						<td>
                        	<php>
                            	::x####$####x::show_status_yes = ::x####$####x::GLOBALS['userpanel']['manage_profile']['profile_data']['show_status'] == true ? " checked=\"checked\"" : NULL;
								::x####$####x::show_status_no = ::x####$####x::GLOBALS['userpanel']['manage_profile']['profile_data']['show_status'] == false ? " checked=\"checked\"" : NULL;
                        	</php>
                            
                            <span class="yesno_yes">
                            	<input type="radio" name="ShowStatus" id="ShowStatus_YES" value="1"{::x####$####x::show_status_yes} />
                                <label for="ShowStatus_YES">{::x####$####x::this->lang->words['Words']['Yes']}</label></span><span class="yesno_no">
                                <input type="radio" name="ShowStatus" id="ShowStatus_NO" value="0"{::x####$####x::show_status_no} />
                                <label for="ShowStatus_NO">{::x####$####x::this->lang->words['Words']['No']}</label></span>
						</td>
					</tr>
				</table><br />
				<input type="button" class="btn" value="{::x####$####x::this->lang->words['UserPanel']['ManageProfile']['Button']}" onclick="CTM.AjaxLoad('?app=core&amp;module=userpanel&amp;option=manageProfile&amp;write=true', 'Command', 'UpdateProfile');" />
			</form>
		</p>
	</div>
	<div id="Command"></div>
HTML;
/********** End: option_manageProfile **********/

/********** Begin: option_masterReset **********/
$CTM_TEMPLATE_DATABASE['option_masterReset'] = <<<HTML
	<div class="box-content">
        <div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['MasterReset']['Title']}</span></div>
	  	<h3>{::x####$####x::this->lang->words['UserPanel']['MasterReset']['Requirements']}</h3>
        <p>
        	<if syntax="::x####$####x::this->settings['USERPANEL']['CHARACTER']['MASTER_RESET'][0xFF]['MODE'] < 3">
            {::x####$####x::this->lang->words['UserPanel']['MasterReset']['Require']['Resets']}<strong>{::x####$####x::userpanel['master_reset']['require']['resets']}</strong><br />
            </if>
  			{::x####$####x::this->lang->words['UserPanel']['MasterReset']['Require']['Level']}<strong>{::x####$####x::userpanel['master_reset']['require']['level']}</strong><br />
            {::x####$####x::this->lang->words['UserPanel']['MasterReset']['Require']['Strength']} <strong>{::x####$####x::userpanel['master_reset']['require']['strength']}</strong><br />
            {::x####$####x::this->lang->words['UserPanel']['MasterReset']['Require']['Dexterity']} <strong>{::x####$####x::userpanel['master_reset']['require']['dexterity']}</strong><br />
            {::x####$####x::this->lang->words['UserPanel']['MasterReset']['Require']['Vitality']} <strong>{::x####$####x::userpanel['master_reset']['require']['vitality']}</strong><br />
            {::x####$####x::this->lang->words['UserPanel']['MasterReset']['Require']['Energy']} <strong>{::x####$####x::userpanel['master_reset']['require']['energy']}</strong><br />
            <if syntax="::x####$####x::userpanel['master_reset']['class_lord'] == true">
            {::x####$####x::this->lang->words['UserPanel']['MasterReset']['Require']['Command']} <strong>{::x####$####x::userpanel['master_reset']['require']['command']}</strong><br />
            </if>
            {::x####$####x::this->lang->words['UserPanel']['MasterReset']['Require']['Money']} <strong>{::x####$####x::userpanel['master_reset']['require']['money']}</strong><br />
  		</p>
        <div style="clear:both"></div>
        <h3 style="float:left; display:inherit; clear:none; width:300px"">{::x####$####x::this->lang->words['UserPanel']['MasterReset']['Before']['Title']}</h3>
		<h3 style="float:right; display:inherit; clear:none; width:400px">{::x####$####x::this->lang->words['UserPanel']['MasterReset']['After']['Title']}</h3>
        <div style="clear:both"></div>
        <div class="description">
        	<ul style="width:240px">
            	<li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['Before']['MResets']}</strong> 
                    <span class="green">{::x####$####x::userpanel['master_reset']['before']['mresets']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['Before']['Resets']}</strong> 
                    <span class="green">{::x####$####x::userpanel['master_reset']['before']['resets']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['Before']['Level']}</strong> 
                    <span class="green">{::x####$####x::userpanel['master_reset']['before']['level']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['Before']['Points']}</strong> 
                    <span class="green">{::x####$####x::userpanel['master_reset']['before']['points']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['Before']['Strength']}</strong> 
                    <span class="green">{::x####$####x::userpanel['master_reset']['before']['strength']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['Before']['Dexterity']}</strong> 
                    <span class="green">{::x####$####x::userpanel['master_reset']['before']['dexterity']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['Before']['Vitality']}</strong> 
                    <span class="green">{::x####$####x::userpanel['master_reset']['before']['vitality']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['Before']['Command']}</strong> 
                    <span class="green">{::x####$####x::userpanel['master_reset']['before']['energy']}</span>
                </li>
                <if syntax="::x####$####x::userpanel['master_reset']['class_is_lord'] == true">
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['Before']['Energy']}</strong> 
                    <span class="green">{::x####$####x::userpanel['master_reset']['before']['command']}</span>
                </li>
                </if>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['Before']['Class']}</strong> 
                    <span class="green">{::x####$####x::userpanel['master_reset']['before']['class']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['Before']['Money']}</strong> 
                    <span class="green">{::x####$####x::userpanel['master_reset']['before']['money']}</span>
                </li>
			</ul>
        </div>
        <div class="description" style="float:right">
        	<ul style="width:340px">
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['After']['MResets']}</strong> 
                    <span class="red">{::x####$####x::userpanel['master_reset']['after']['mresets']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['After']['Resets']}</strong> 
                    <span class="red">{::x####$####x::userpanel['master_reset']['after']['resets']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['After']['Level']}</strong> 
                    <span class="red">{::x####$####x::userpanel['master_reset']['after']['level']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['After']['Points']}</strong> 
                    <span class="red">{::x####$####x::userpanel['master_reset']['after']['points']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['After']['Strength']}</strong> 
                    <span class="red">{::x####$####x::userpanel['master_reset']['after']['strength']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['After']['Dexterity']}</strong> 
                    <span class="red">{::x####$####x::userpanel['master_reset']['after']['dexterity']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['After']['Vitality']}</strong> 
                    <span class="red">{::x####$####x::userpanel['master_reset']['after']['vitality']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['After']['Command']}</strong> 
                    <span class="red">{::x####$####x::userpanel['master_reset']['after']['energy']}</span>
                </li>
                <if syntax="::x####$####x::userpanel['master_reset']['class_is_lord'] == true">
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['After']['Energy']}</strong> 
                    <span class="red">{::x####$####x::userpanel['master_reset']['after']['command']}</span>
                </li>
                </if>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['After']['Class']}</strong> 
                    <span class="red">{::x####$####x::userpanel['master_reset']['after']['class']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['After']['Money']}</strong> 
                    <span class="red">{::x####$####x::userpanel['master_reset']['after']['money']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['After']['ClearInventory']}</strong> 
                    <span>{::x####$####x::userpanel['master_reset']['after']['clear_invent']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['After']['ClearSkill']}</strong> 
                    <span>{::x####$####x::userpanel['master_reset']['after']['clear_skill']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['MasterReset']['After']['ClearQuest']}</strong> 
                    <span>{::x####$####x::userpanel['master_reset']['after']['clear_quest']}</span>
                </li>
			</ul>
        </div>
  		<div style="clear:both"></div>
		<input type="button" value="{::x####$####x::this->lang->words['UserPanel']['MasterReset']['Button']}" class="btn" onclick="CTM.AjaxLoad('?app=core&amp;module=userpanel&amp;option=masterReset&amp;write=true','Command');" />
	</div>
    <div id="Command"></div>
HTML;
/********** End: option_masterReset **********/

/********** Begin: option_moveCharacter **********/
$CTM_TEMPLATE_DATABASE['option_moveCharacter'] = <<<HTML
	<div class="box-content">
        <div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['MoveCharacter']['Title']}</span></div>
	  	<p>
	  		<b>{::x####$####x::this->lang->words['UserPanel']['MoveCharacter']['SelectMap']}</b>
		</p>
        <form name="Move_Char" id="Move_Char" class="frm">
			<select name="MapNumber" id="MapNumber">
      			<foreach loop="::x####$####x::this->settings['MAPDATA'] as ::x####$####x::map_number => ::x####$####x::map_info">
				<option value="{::x####$####x::map_number}">{::x####$####x::map_info[2]}</option>
     			</foreach>
			</select>
		</form>
		<input type="button"  class="btn" value="{::x####$####x::this->lang->words['UserPanel']['MoveCharacter']['Button']}" onclick="CTM.AjaxLoad('?appcore&amp;module=userpanel&amp;option=moveCharacter&amp;write=true','Command','Move_Char');" />
	</div>
	<div id="Command"></div>
HTML;
/********** End: option_moveCharacter **********/

/********** Begin: option_payments_confirm **********/
$CTM_TEMPLATE_DATABASE['option_payments_confirm'] = <<<HTML
	<script type="text/javascript">
	::x####$####x::(function()
	{
		::x####$####x::("#selectMethod").change(function()
		{
			if(::x####$####x::("#selectMethod option:selected").val().length < 1)
			{
				CTM.Message("<strong>{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['Messages']['SelectMethod']}</strong>", 1, "showErrorMessage");
			}
			else
			{
				::x####$####x::.fancybox(
				{
					ajax :
					{
						type : "GET",
						data : "ajaxLoadSet=true"
					},
					href : "?app=core&module=userpanel&option=invoices&section=show&id={::x####$####x::userpanel['payments']['confirm_payment']['invoice_id']}&do=payment&method="+::x####$####x::("#selectMethod").val()
				});
				
				//::x####$####x::.facebox({ ajax: "?app=core&module=userpanel&option=invoices&section=show&id={::x####$####x::userpanel['payments']['confirm_payment']['invoice_id']}&do=payment&method="+::x####$####x::("#selectMethod").val()+"&ajaxLoadSet=true" });
				//CTM.AjaxLoad("?app=core&module=userpanel&option=invoices&section=show&id={::x####$####x::userpanel['payments']['confirm_payment']['invoice_id']}&do=payment&method="+::x####$####x::("#selectMethod").val(), "payment_div_content");
			}
		});
	});
	</script>
    <div id="payment_div_content" style="width: 700px">
        <div class="box-content">
            <div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['Title']}</span></div>
            <div align="center" style="display:block; padding:5px 10px;">
                {::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['SelectMethod']}<br /><br />
                <select name="selectMethod" id="selectMethod" class="selectField">
                    <option value="" disabled="disabled" selected="selected">{::x####$####x::this->lang->words['Words']['Select']}</option>
                    <foreach loop="::x####$####x::this->settings['PAYMENTMETHOD']['FORM'] as ::x####$####x::k => ::x####$####x::v">
                    <option value="{::x####$####x::k}">{::x####$####x::v[0]}</option>
                    </foreach>
                </select>
            </div>
        </div>
        <div id="showErrorMessage"></div>
	</div>
HTML;
/********** End: option_payments_confirm **********/

/********** Begin: option_payments_confirm_form **********/
$CTM_TEMPLATE_DATABASE['option_payments_confirm_form'] = <<<HTML
	<script type="text/javascript">
	::x####$####x::(function()
	{
		::x####$####x::("#confirmNow").click(function()
		{
			message = "";
		
			if(::x####$####x::("#Date").val().length < 1) message += "&raquo; {::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['Messages']['DateVoid']}<br />::x####code:n####x::";
			if(::x####$####x::("#Hour").val().length < 1) message += "&raquo; {::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['Messages']['HourVoid']}<br />::x####code:n####x::";
			if(::x####$####x::("#Value").val().length < 1) message += "&raquo; {::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['Messages']['ValueVoid']}<br />::x####code:n####x::";
			if(::x####$####x::("#Local option:selected").val().length < 1) message += "&raquo; {::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['Messages']['LocalVoid']}<br />::x####code:n####x::";
			<if syntax="count(::x####$####x::userpanel['payments']['confirm_payment']['method_fields']) > 0">
			<foreach loop="::x####$####x::userpanel['payments']['confirm_payment']['method_fields'] as ::x####$####x::key => ::x####$####x::value">
			if(::x####$####x::("#{::x####$####x::key}").val().length < 1) message += "&raquo; {::x####$####x::value}<br />::x####code:n####x::";
			</foreach>
			</if>
		
			if(message != "")
			{
				beginMessage = "<strong>{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['Messages']['VoidMessage']}</strong><br /><br />";
				CTM.Message(beginMessage+message, 1, "Command");
			}
			else
			{
				Sexy.confirm("{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['Messages']['Warning']}", {onComplete : function(setClose)
				{
					if(setClose)
						CTM.AjaxLoad("?app=core&module=userpanel&option=invoices&section=show&id={::x####$####x::userpanel['payments']['confirm_payment']['invoice_id']}&do=payment&method={::x####$####x::userpanel['payments']['confirm_payment']['method_id']}&write=true",'Command','confirmPayment');
				}});
			}
		});
		::x####$####x::('#file_upload').uploadify(
		{
			'buttonText' : "{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['Annex']['Button']}",
			'uploader'  : "{::x####$####x::this->vars['board_url']}{::x####$####x::this->vars['style_dirs']['js']}uploadify/uploadify.swf",
			'script'    : "{::x####$####x::this->vars['board_url']}?run=uploadify",
			'cancelImg' : "{::x####$####x::this->vars['board_url']}{::x####$####x::this->vars['style_dirs']['js']}uploadify/cancel.png",
			'folder'    : "{::x####$####x::this->settings['WEBDATA']['UPLOADS']['DIRECTORY']['PAYMENT_ANNEX']}",
			'fileExt' : '*.jpg;*.jpeg;*.png;*.gif;',
			'fileDesc'    : 'Images (*.jpg, *.jpeg, *.png, *.gif)',
			'auto'      : false,
			'sizeLimit'   : "{::x####$####x::this->settings['WEBDATA']['UPLOADS']['FILESIZE']['PAYMENT_ANNEX']}",
			'onSelect'    : function(event,ID,fileObj)
			{
				::x####$####x::("#u_sendFile").val(1);
			},
			'onComplete': function(event, queueID, fileObj, response, data)
			{
				::x####$####x::("#u_fileUploaded").val(response);
				
				CTM.AjaxLoad("?app=core&module=userpanel&option=invoices&section=show&id={::x####$####x::userpanel['payments']['confirm_payment']['invoice_id']}&do=payment&method={::x####$####x::userpanel['payments']['confirm_payment']['method_id']}&write=true",'Command','confirmPayment');
				
				::x####$####x::("#u_ready").val(1);
			},
			'onCancel'    : function(event,ID,fileObj)
			{
				::x####$####x::("#u_ready").val(1);
				::x####$####x::("#u_sendFile").val(0)
				::x####$####x::("#u_fileUploaded").val("");
			}
		});
	});
	function startUpload(uploadName, tmp_session)
	{
		::x####$####x::("#u_ready").val(0);
		
		::x####$####x::('#file_upload').uploadifySettings('scriptData',{'fileSyntax':'.gif|.png|.jpg|.jpeg','fileName':uploadName,'fileSize':'{::x####$####x::this->settings['WEBDATA']['UPLOADS']['FILESIZE']['PAYMENT_ANNEX']}','tmp_session':tmp_session},false);
		::x####$####x::('#file_upload').uploadifyUpload();
	}
	</script>
    <div class="box-content" style="width: 700px">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['Title']}</span></div>
        <p>{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['MethodSelected']} <strong>{::x####$####x::userpanel['payments']['confirm_payment']['method_name']}</strong></p>
        <form name="confirmPayment" id="confirmPayment" class="frm">
        	<input type="hidden" name="u_sendFile" id="u_sendFile" value="0" />
            <input type="hidden" name="u_fileUploaded" id="u_fileUploaded" value="" />
            <input type="hidden" name="u_ready" id="u_ready" value="1" />
            
            <h3>{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['BuyData']['Title']}</h3>
            <table width="100%" border="0" class="tableBackColumn">
				<tr>
					<td>{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['BuyData']['Date']}</td>
					<td><input type="text" name="Date" id="Date" value="Ex: 01/01/" onfocus="CTM.clearField(this)" /></td>
				</tr>
				<tr>
					<td>{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['BuyData']['Hour']}</td>
					<td><input type="text" name="Hour" id="Hour" value="Ex: 00:00" onfocus="CTM.clearField(this)" /></td>
				</tr>
				<tr>
					<td>{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['BuyData']['Value']}</td>
					<td><input type="text" name="Value" id="Value" value="R::x####$####x:: 0,00" onfocus="CTM.clearField(this)" /></td>
				</tr>
				<tr>
					<td>{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['BuyData']['Local']}</td>
					<td>
                    	<select name="Local" id="Local">
                            <option value="{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['BuyData']['LocalField']['Attendant']}">{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['BuyData']['LocalField']['Attendant']}</option>
                            <option value="{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['BuyData']['LocalField']['ElectronicBox']}">{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['BuyData']['LocalField']['ElectronicBox']}</option>
                            <option value="{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['BuyData']['LocalField']['BankTransfer']}">{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['BuyData']['LocalField']['BankTransfer']}</option>
                        </select>
					</td>
				</tr>
			</table>
            
            <if syntax="count(::x####$####x::userpanel['payments']['confirm_payment']['method_fields']) > 0">
            <h3>{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['PaymentData']}</h3>
            <table width="100%" border="0" class="tableBackColumn">
				<foreach loop="::x####$####x::userpanel['payments']['confirm_payment']['method_fields'] as ::x####$####x::key => ::x####$####x::value">
				<tr>
					<td>{::x####$####x::value}</td>
					<td width="60%"><input type="text" name="{::x####$####x::key}" id="{::x####$####x::key}" /></td>
				</tr>
				</foreach>
			</table>
            </if>
            
            <h3>{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['Annex']['Title']}</h3>
            <table width="100%" border="0" class="tableBackColumn">
				<tr>
					<td><input id="file_upload" name="file_upload" type="file" /></td>
				</tr>
			</table>
            
            <h3>{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['Message']}</h3>
            <table width="100%" border="0" class="tableBackColumn">
				<tr align="center">
					<td><textarea name="Message" id="Message" rows="10" cols="55"></textarea></td>
				</tr>
			</table>
            
            <input type="button" value="{::x####$####x::this->lang->words['UserPanel']['Payments']['ConfirmPayment']['Button']}" id="confirmNow" class="btn" />
		</form>
	</div>
    <div id="Command"></div>
HTML;
/********** End: option_payments_confirm_form **********/

/********** Begin: option_payments_show **********/
$CTM_TEMPLATE_DATABASE['option_payments_show'] = <<<HTML
	<div class="box-content" style="width: 700px">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['Payments']['ShowPayment']['Title']}</span></div>
        
        <h3>{::x####$####x::this->lang->words['UserPanel']['Payments']['ShowPayment']['PaymentInfos']['Title']}</h3>
        <table width="100%" border="0" class="tableBackColumn">
			<tr>
				<td>{::x####$####x::this->lang->words['UserPanel']['Payments']['ShowPayment']['PaymentInfos']['Method']}</td>
				<td width="60%"><strong>{::x####$####x::userpanel['payments']['show_payment']['method']}</strong></td>
			</tr>
			<tr>
				<td>{::x####$####x::this->lang->words['UserPanel']['Payments']['ShowPayment']['PaymentInfos']['SendDate']}</td>
				<td>{::x####$####x::userpanel['payments']['show_payment']['confirm_date']}</td>
			</tr>
			<tr>
				<td>{::x####$####x::this->lang->words['UserPanel']['Payments']['ShowPayment']['PaymentInfos']['Status']}</td>
				<td>{::x####$####x::userpanel['payments']['show_payment']['status']}</td>
			</tr>
			<if syntax="::x####$####x::userpanel['payments']['show_payment']['annex']">
			<tr>
				<td>{::x####$####x::this->lang->words['UserPanel']['Payments']['ShowPayment']['PaymentInfos']['Annex']}</td>
				<td><a href="{::x####$####x::userpanel['payments']['show_payment']['annex']['link']}" target="_blank">[ {::x####$####x::userpanel['payments']['show_payment']['annex']['name']} ]</a></td>
			</tr>
			</if>
		</table>
        
        <h3>{::x####$####x::this->lang->words['UserPanel']['Payments']['ShowPayment']['BuyData']['Title']}</h3>
        <table width="100%" border="0" class="tableBackColumn">
			<tr>
				<td>{::x####$####x::this->lang->words['UserPanel']['Payments']['ShowPayment']['BuyData']['Date']}</td>
				<td width="60%">{::x####$####x::userpanel['payments']['show_payment']['date']}</td>
			</tr>
			<tr>
				<td>{::x####$####x::this->lang->words['UserPanel']['Payments']['ShowPayment']['BuyData']['Hour']}</td>
				<td>{::x####$####x::userpanel['payments']['show_payment']['hour']}</td>
			</tr>
			<tr>
				<td>{::x####$####x::this->lang->words['UserPanel']['Payments']['ShowPayment']['BuyData']['Local']}</td>
				<td>{::x####$####x::userpanel['payments']['show_payment']['local']}</td>
			</tr>
		</table>
        
        <h3>{::x####$####x::this->lang->words['UserPanel']['Payments']['ShowPayment']['PaymentData']}</h3>
        <table width="100%" border="0" class="tableBackColumn">
			<if syntax="count(::x####$####x::userpanel['payments']['show_payment']['payment_data']) > 0">
            <foreach loop="::x####$####x::userpanel['payments']['show_payment']['payment_data'] as ::x####$####x::key => ::x####$####x::value">
			<tr>
				<td>{::x####$####x::key}</td>
				<td width="60%">{::x####$####x::value}</td>
			</tr>
			</foreach>
            </if>
		</table>
        
        <h3>{::x####$####x::this->lang->words['UserPanel']['Payments']['ShowPayment']['Message']}</h3>
        <div class="blockquote">{::x####$####x::userpanel['payments']['show_payment']['message']}</div>
	</div>
HTML;
/********** End: option_payments_show **********/

/********** Begin: option_redistributePoints **********/
$CTM_TEMPLATE_DATABASE['option_redistributePoints'] = <<<HTML
	<div class="box-content">
        <div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['RedistributePoints']['Title']}</span></div>
	   	<p>
        	<b class="red">{::x####$####x::this->lang->words['UserPanel']['RedistributePoints']['Warning']}</b><br />
            <h3 style="float:left; display:inherit; clear:none;">{::x####$####x::this->lang->words['UserPanel']['RedistributePoints']['Before']['Title']}</h3>
            <h3 style="float:right; display:inherit; clear:none;">{::x####$####x::this->lang->words['UserPanel']['RedistributePoints']['After']['Title']}</h3>
            <div class="description">
                <ul style="width:200px">
                    <li>
                        <strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['RedistributePoints']['Before']['Points']}</strong> 
                        <span class="green">{::x####$####x::userpanel['redistribute_points']['before_points']['points']}</span>
                    </li>
                    <li>
                        <strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['RedistributePoints']['Before']['Strength']}</strong> 
                        <span class="green">{::x####$####x::userpanel['redistribute_points']['before_points']['strength']}</span>
                    </li>
                    <li>
                        <strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['RedistributePoints']['Before']['Dexterity']}</strong> 
                        <span class="green">{::x####$####x::userpanel['redistribute_points']['before_points']['dexterity']}</span>
                    </li>
                    <li>
                        <strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['RedistributePoints']['Before']['Vitality']}</strong> 
                        <span class="green">{::x####$####x::userpanel['redistribute_points']['before_points']['vitality']}</span>
                    </li>
                    <li>
                        <strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['RedistributePoints']['Before']['Energy']}</strong> 
                        <span class="green">{::x####$####x::userpanel['redistribute_points']['before_points']['energy']}</span>
                    </li>
                    <if syntax="::x####$####x::userpanel['redistribute_points']['class_is_lord'] == true">
                    <li>
                        <strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['RedistributePoints']['Before']['Command']}</strong> 
                        <span class="green">{::x####$####x::userpanel['redistribute_points']['before_points']['command']}</span>
                    </li>
                    </if>
                </ul>
        	</div>
            <div class="description" style="float:right;">
                <ul style="width:200px">
                    <li>
                        <strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['RedistributePoints']['After']['Points']}</strong> 
                        <span class="red">{::x####$####x::userpanel['redistribute_points']['after_points']['points']}</span>
                    </li>
                    <li>
                        <strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['RedistributePoints']['After']['Strength']}</strong> 
                        <span class="red">{::x####$####x::userpanel['redistribute_points']['after_points']['strength']}</span>
                    </li>
                    <li>
                        <strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['RedistributePoints']['After']['Dexterity']}</strong> 
                        <span class="red">{::x####$####x::userpanel['redistribute_points']['after_points']['dexterity']}</span>
                    </li>
                    <li>
                        <strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['RedistributePoints']['After']['Vitality']}</strong> 
                        <span class="red">{::x####$####x::userpanel['redistribute_points']['after_points']['vitality']}</span>
                    </li>
                    <li>
                        <strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['RedistributePoints']['After']['Energy']}</strong> 
                        <span class="red">{::x####$####x::userpanel['redistribute_points']['after_points']['energy']}</span>
                    </li>
                    <if syntax="::x####$####x::userpanel['redistribute_points']['class_is_lord'] == true">
                    <li>
                        <strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['RedistributePoints']['Before']['Command']}</strong> 
                        <span class="red">{::x####$####x::userpanel['redistribute_points']['after_points']['command']}</span>
                    </li>
                    </if>
                </ul>
            </div>
            <div style="clear:both"></div>
            <input class="btn" type="button" value="{::x####$####x::this->lang->words['UserPanel']['RedistributePoints']['Button']}" onclick="CTM.AjaxLoad('?app=core&amp;module=userpanel&amp;option=redistributePoints&amp;write=true','Command');" />
		</p>
	</div>
	<div id="Command"></div>
HTML;
/********** End: option_redistributePoints **********/

/********** Begin: option_repairPoints **********/
$CTM_TEMPLATE_DATABASE['option_repairPoints'] = <<<HTML
	<div class="box-content">
        <div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['RepairPoints']['Title']}</span></div>
	   	<p>
        	<span class="red">{::x####$####x::this->lang->words['UserPanel']['RepairPoints']['Message']}</span><br /><br />
			<input class="btn" type="button" value="{::x####$####x::this->lang->words['UserPanel']['RepairPoints']['Button']}" onclick="CTM.AjaxLoad('?app=core&amp;module=userpanel&amp;option=repairPoints&amp;write=true','Command');" />
		</p>
	</div>
	<div id="Command"></div>
HTML;
/********** End: option_repairPoints **********/

/********** Begin: option_resetSystem **********/
$CTM_TEMPLATE_DATABASE['option_resetSystem'] = <<<HTML
	<div class="box-content">
        <div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['ResetSystem']['Title']} ({::x####$####x::userpanel['reset_system']['mode']})</span></div>
	  	<h3>{::x####$####x::this->lang->words['UserPanel']['ResetSystem']['Requirements']}</h3>
        <p>
  			{::x####$####x::this->lang->words['UserPanel']['ResetSystem']['Require']['Level']}<strong>{::x####$####x::userpanel['reset_system']['require']['level']}</strong><br />
  			{::x####$####x::this->lang->words['UserPanel']['ResetSystem']['Require']['Money']} <strong>{::x####$####x::userpanel['reset_system']['require']['money']}</strong><br />
  		</p>
        <div style="clear:both"></div>
        <h3 style="float:left; display:inherit; clear:none; width:300px"">{::x####$####x::this->lang->words['UserPanel']['ResetSystem']['Before']['Title']}</h3>
		<h3 style="float:right; display:inherit; clear:none; width:400px">{::x####$####x::this->lang->words['UserPanel']['ResetSystem']['After']['Title']}</h3>
        <div style="clear:both"></div>
        <div class="description">
        	<ul style="width:240px">
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['Before']['Resets']}</strong> 
                    <span class="green">{::x####$####x::userpanel['reset_system']['before']['resets']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['Before']['Level']}</strong> 
                    <span class="green">{::x####$####x::userpanel['reset_system']['before']['level']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['Before']['Points']}</strong> 
                    <span class="green">{::x####$####x::userpanel['reset_system']['before']['points']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['Before']['Class']}</strong> 
                    <span class="green">{::x####$####x::userpanel['reset_system']['before']['class']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['Before']['Money']}</strong> 
                    <span class="green">{::x####$####x::userpanel['reset_system']['before']['money']}</span>
                </li>
                <if syntax="::x####$####x::this->settings['USERPANEL']['CHARACTER']['RESET_SYSTEM'][0xFF]['MODE'] > 2">
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['Before']['Strength']}</strong> 
                    <span class="green">{::x####$####x::userpanel['reset_system']['before']['strength']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['Before']['Dexterity']}</strong> 
                    <span class="green">{::x####$####x::userpanel['reset_system']['before']['dexterity']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['Before']['Vitality']}</strong> 
                    <span class="green">{::x####$####x::userpanel['reset_system']['before']['vitality']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['Before']['Command']}</strong> 
                    <span class="green">{::x####$####x::userpanel['reset_system']['before']['energy']}</span>
                </li>
                <if syntax="::x####$####x::userpanel['reset_system']['class_is_lord'] == true">
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['Before']['Energy']}</strong> 
                    <span class="green">{::x####$####x::userpanel['reset_system']['before']['command']}</span>
                </li>
                </if>
                </if>
			</ul>
        </div>
        <div class="description" style="float:right">
        	<ul style="width:340px">
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['After']['Resets']}</strong> 
                    <span class="red">{::x####$####x::userpanel['reset_system']['after']['resets']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['After']['Level']}</strong> 
                    <span class="red">{::x####$####x::userpanel['reset_system']['after']['level']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['After']['Points']}</strong> 
                    <span class="red">{::x####$####x::userpanel['reset_system']['after']['points']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['After']['Class']}</strong> 
                    <span class="red">{::x####$####x::userpanel['reset_system']['after']['class']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['After']['Money']}</strong> 
                    <span class="red">{::x####$####x::userpanel['reset_system']['after']['money']}</span>
                </li>
                <if syntax="::x####$####x::this->settings['USERPANEL']['CHARACTER']['RESET_SYSTEM'][0xFF]['MODE'] > 2">
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['After']['Strength']}</strong> 
                    <span class="red">{::x####$####x::userpanel['reset_system']['after']['strength']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['After']['Dexterity']}</strong> 
                    <span class="red">{::x####$####x::userpanel['reset_system']['after']['dexterity']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['After']['Vitality']}</strong> 
                    <span class="red">{::x####$####x::userpanel['reset_system']['after']['vitality']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['After']['Command']}</strong> 
                    <span class="red">{::x####$####x::userpanel['reset_system']['after']['energy']}</span>
                </li>
                <if syntax="::x####$####x::userpanel['reset_system']['class_is_lord'] == true">
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['After']['Energy']}</strong> 
                    <span class="red">{::x####$####x::userpanel['reset_system']['after']['command']}</span>
                </li>
                </if>
                </if>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['After']['ClearInventory']}</strong> 
                    <span>{::x####$####x::userpanel['reset_system']['after']['clear_invent']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['After']['ClearSkill']}</strong> 
                    <span>{::x####$####x::userpanel['reset_system']['after']['clear_skill']}</span>
                </li>
                <li>
                	<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['ResetSystem']['After']['ClearQuest']}</strong> 
                    <span>{::x####$####x::userpanel['reset_system']['after']['clear_quest']}</span>
                </li>
			</ul>
        </div>
  		<div style="clear:both"></div>
		<input type="button" value="{::x####$####x::this->lang->words['UserPanel']['ResetSystem']['Button']}" class="btn" onclick="CTM.AjaxLoad('?app=core&amp;module=userpanel&amp;option=resetSystem&amp;write=true','Command');" />
	</div>
    <div id="Command"></div>
HTML;
/********** End: option_resetSystem **********/

/********** Begin: option_supportTickets **********/
$CTM_TEMPLATE_DATABASE['option_supportTickets'] = <<<HTML
	<if syntax="::x####$####x::userpanel['support_tickets']['auto_load_ticket']">
	<script type="text/javascript">
	::x####$####x::(document).ready(function(e)
	{
		if(e)
			CTM.AjaxLoad("?app=core&module=userpanel&option=supportTickets&section=list&showticket={::x####$####x::userpanel['support_tickets']['auto_load_ticket']}", 'loadSection');
	});
	</script>
    </if>
    <div class="box-content">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['Title']}</span></div>
        <div align="center">
            <input type="button" value="{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['Menu']['List']}" onclick="CTM.AjaxLoad('?app=core&amp;module=userpanel&amp;option=supportTickets&amp;section=list','loadSection');" class="btn" />
            <input type="button" value="{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['Menu']['Open']}" onclick="CTM.AjaxLoad('?app=core&amp;module=userpanel&amp;option=supportTickets&amp;section=open','loadSection');" class="btn" />
		</div>
    </div>
	<div id="loadSection"></div>
HTML;
/********** End: option_supportTickets **********/

/********** Begin: option_supportTickets_list **********/
$CTM_TEMPLATE_DATABASE['option_supportTickets_list'] = <<<HTML
	<script type="text/javascript">
	::x####$####x::(function()
	{
		::x####$####x::('#ticket_tabs').tabs({ fx: { opacity: 'toggle' } });
	});
	<if syntax="::x####$####x::userpanel['support_tickets']['auto_load_ticket']">
	::x####$####x::(document).ready(function(e)
	{
		if(e) showTicket("{::x####$####x::userpanel['support_tickets']['auto_load_ticket']}");
	});
	</if>
	function showTicket(id)
	{
		CTM.AjaxLoad('?app=core&module=userpanel&option=supportTickets&section=show&id='+id, '*showTicket');
	}
	function changeTicketStatus(id, departament, subject, date, status, tab)
	{
		::x####$####x::("#ticket_tabs").tabs("select", tab - 1);
		::x####$####x::("#ticketID_"+id).html('');
		::x####$####x::("#tickets_"+tab).prepend('<tr id="ticketID_'+id+'" onclick="showTicket('+id+');" style="cursor: pointer;">\
						<td>#'+id+'</td>\
						<td>'+departament+'</td>\
						<td>'+subject+'</td>\
						<td>'+date+'</td>\
						<td>'+status+'</td>\
					</tr>::x####code:n####x::');
		::x####$####x::('#ticketManage').hide('slow');
		::x####$####x::('#ticketStatus').html(status);
	}
	</script>
    <div class="box-content">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Title']}</span></div>
        <br />
		<div id="ticket_tabs">
			<ul>
				<li><a href="#ticket_tabs-1">{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Tabs']['Opened']}</a></li>
				<li><a href="#ticket_tabs-2">{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Tabs']['Progress']}</a></li>
				<li><a href="#ticket_tabs-3">{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Tabs']['Closed']}</a></li>
			</ul>
			<div id="ticket_tabs-1">
            	<if syntax="count(::x####$####x::userpanel['support_tickets']['list_tickets']['opened']) > 0">
                <table width="100%" border="0" class="tableBackColumn">
                    <thead>
                        <tr>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Table']['ID']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Table']['Departament']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Table']['Subject']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Table']['Date']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Table']['Status']}</strong></th>
                        </tr>
                    </thead>
                    <tbody id="tickets_1">
                        <foreach loop="::x####$####x::userpanel['support_tickets']['list_tickets']['opened'] as ::x####$####x::id => ::x####$####x::ticket">
                        <tr id="ticketID_{::x####$####x::id}" onclick="showTicket({::x####$####x::id});" style="cursor: pointer;">
                            <td>#{::x####$####x::id}</td>
                            <td>{::x####$####x::ticket['departament']}</td>
                            <td>{::x####$####x::ticket['subject']}</td>
                            <td>{::x####$####x::ticket['date']}</td>
                            <td id="infoStatus">{::x####$####x::ticket['status']}</td>
                        </tr>
                        </foreach>
                    </tbody>
                </table>
            	<else />
            	<div class="info-box">{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Messages']['NoOpened']}</div>
            	</if>
            </div>
            
			<div id="ticket_tabs-2">
            	<if syntax="count(::x####$####x::userpanel['support_tickets']['list_tickets']['progress']) > 0">
                <table width="100%" border="0" class="tableBackColumn">
                    <thead>
                        <tr>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Table']['ID']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Table']['Departament']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Table']['Subject']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Table']['Date']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Table']['Status']}</strong></th>
                        </tr>
                    </thead>
                    <tbody id="tickets_2">
                        <foreach loop="::x####$####x::userpanel['support_tickets']['list_tickets']['progress'] as ::x####$####x::id => ::x####$####x::ticket">
                        <tr id="ticketID_{::x####$####x::id}" onclick="showTicket({::x####$####x::id});" style="cursor: pointer;">
                            <td>#{::x####$####x::id}</td>
                            <td>{::x####$####x::ticket['departament']}</td>
                            <td>{::x####$####x::ticket['subject']}</td>
                            <td>{::x####$####x::ticket['date']}</td>
                            <td id="infoStatus">{::x####$####x::ticket['status']}</td>
                        </tr>
                        </foreach>
                    </tbody>
                </table>
            	<else />
            	<div class="info-box">{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Messages']['NoProgress']}</div>
            	</if>
            </div>
			
			<div id="ticket_tabs-3">
            	<if syntax="count(::x####$####x::userpanel['support_tickets']['list_tickets']['closed']) > 0">
                <table width="100%" border="0" class="tableBackColumn">
                    <thead>
                        <tr>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Table']['ID']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Table']['Departament']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Table']['Subject']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Table']['Date']}</strong></th>
                            <th><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Table']['Status']}</strong></th>
                        </tr>
                    </thead>
                    <tbody id="tickets_3">
                        <foreach loop="::x####$####x::userpanel['support_tickets']['list_tickets']['closed'] as ::x####$####x::id => ::x####$####x::ticket">
                        <tr id="ticketID_{::x####$####x::id}" onclick="showTicket({::x####$####x::id});" style="cursor: pointer;">
                            <td>#{::x####$####x::id}</td>
                            <td>{::x####$####x::ticket['departament']}</td>
                            <td>{::x####$####x::ticket['subject']}</td>
                            <td>{::x####$####x::ticket['date']}</td>
                            <td id="infoStatus">{::x####$####x::ticket['status']}</td>
                        </tr>
                        </foreach>
                    </tbody>
                </table>
            	<else />
            	<div class="info-box">{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ListTickets']['Messages']['NoClosed']}</div>
            	</if>
            </div>
		</div>
	</div>
    <div id="showTicket"></div>
HTML;
/********** End: option_supportTickets_list **********/

/********** Begin: option_supportTickets_open **********/
$CTM_TEMPLATE_DATABASE['option_supportTickets_open'] = <<<HTML
	<script type="text/javascript">
	::x####$####x::(function()
	{
		::x####$####x::("#selectDepartament").change(function()
		{
			if(::x####$####x::("#selectDepartament option:selected").val().length < 1)
				CTM.Message("<strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['OpenTicket']['Messages']['SelectDepartament']}</strong>", 1, "showErrorMessage");
			else
				CTM.AjaxLoad("?app=core&module=userpanel&option=supportTickets&section=open&departament="+::x####$####x::("#selectDepartament").val(), "loadSection");
		});
	});
	</script>
    <div class="box-content">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['OpenTicket']['Title']}</span></div>
        <div align="center" style="display:block; padding:5px 10px;">
        	{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['OpenTicket']['SelectDepartament']}<br /><br />
			<select name="selectDepartament" id="selectDepartament" class="selectField">
				<option value="" disabled="disabled" selected="selected">{::x####$####x::this->lang->words['Words']['Select']}</option>
				<foreach loop="::x####$####x::this->settings['USERPANEL']['SUPPORT']['TICKETS']['DEPARTAMENTS'] as ::x####$####x::k => ::x####$####x::v">
				<option value="{::x####$####x::k}">{::x####$####x::v}</option>
				</foreach>
			</select>
		</div>
	</div>
    <div id="showErrorMessage"></div>
HTML;
/********** End: option_supportTickets_open **********/

/********** Begin: option_supportTickets_open_form **********/
$CTM_TEMPLATE_DATABASE['option_supportTickets_open_form'] = <<<HTML
	<script type="text/javascript">
	::x####$####x::(function()
	{
		::x####$####x::("#openNow").click(function()
		{
			var message = "";
		
			if(::x####$####x::("#Subject").val().length < 1) message += "&raquo; {::x####$####x::this->lang->words['UserPanel']['SupportTickets']['OpenTicket']['Messages']['SubjectVoid']}<br />";
			if(::x####$####x::("#Character option:selected").val().length < 1) message += "&raquo; {::x####$####x::this->lang->words['UserPanel']['SupportTickets']['OpenTicket']['Messages']['SelectCharacter']}<br />";
			if(::x####$####x::("#Text").val().length < 1) message += "&raquo; {::x####$####x::this->lang->words['UserPanel']['SupportTickets']['OpenTicket']['Messages']['MessageVoid']}<br />";
		
			if(message.length > 0)
			{
				beginMessage = "<strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['OpenTicket']['Messages']['VoidMessage']}</strong><br /><br />";
				CTM.Message(beginMessage+message, 1, "Command");
			}
			else
				CTM.AjaxLoad("?app=core&module=userpanel&option=supportTickets&section=open&departament={::x####$####x::userpanel['support_tickets']['open_ticket']['departament']}&write=true",'Command','openTicket');
		});
		::x####$####x::('#file_upload').uploadify(
		{
			'buttonText' : "{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['OpenTicket']['Buttons']['Annex']}",
			'uploader'  : "{::x####$####x::this->vars['board_url']}{::x####$####x::this->vars['style_dirs']['js']}uploadify/uploadify.swf",
			'script'    : "{::x####$####x::this->vars['board_url']}?run=uploadify",
			'cancelImg' : "{::x####$####x::this->vars['board_url']}{::x####$####x::this->vars['style_dirs']['js']}uploadify/cancel.png",
			'folder'    : "{::x####$####x::this->settings['WEBDATA']['UPLOADS']['DIRECTORY']['TICKET_ANNEX']}",
			'fileExt' : '*.jpg;*.jpeg;*.png;*.gif;*.txt;*.log;',
			'fileDesc'    : 'Images / Log Files (*.jpg, *.jpeg, *.png, *.gif / *.txt, *.log)',
			'auto'      : false,
			'sizeLimit'   : "{::x####$####x::this->settings['WEBDATA']['UPLOADS']['FILESIZE']['TICKET_ANNEX']}",
			'onSelect'    : function(event,ID,fileObj)
			{
				::x####$####x::("#u_sendFile").val(1);
			},
			'onComplete': function(event, queueID, fileObj, response, data)
			{
				::x####$####x::("#u_fileUploaded").val(response);
				
				CTM.AjaxLoad("?app=core&module=userpanel&option=supportTickets&section=open&departament={::x####$####x::userpanel['support_tickets']['open_ticket']['departament']}&write=true",'Command','openTicket');
				
				::x####$####x::("#u_ready").val(1);
			},
			'onCancel'    : function(event,ID,fileObj)
			{
				::x####$####x::("#u_ready").val(1);
				::x####$####x::("#u_sendFile").val(0)
				::x####$####x::("#u_fileUploaded").val("");
			}
		});
	});
	function startUpload(uploadName, tmp_session)
	{
		::x####$####x::("#u_ready").val(0);
		
		::x####$####x::('#file_upload').uploadifySettings('scriptData',{'fileSyntax':'.gif|.png|.jpg|.jpeg|.txt|.log','fileName':uploadName,'fileSize':"{::x####$####x::this->settings['WEBDATA']['UPLOADS']['FILESIZE']['TICKET_ANNEX']}",'tmp_session':tmp_session},false);
		::x####$####x::('#file_upload').uploadifyUpload();
	}
	</script>
    <div class="box-content">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['OpenTicket']['Title']}</span></div>
        <form name="openTicket" id="openTicket" class="frm">
        	<input type="hidden" name="u_sendFile" id="u_sendFile" value="0" />
            <input type="hidden" name="u_fileUploaded" id="u_fileUploaded" value="" />
            <input type="hidden" name="u_ready" id="u_ready" value="1" />
            <table width="100%" border="0" class="tableBackColumn">
            	<tr>
                	<td>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['OpenTicket']['Subject']}</td>
                    <td><input type="text" name="Subject" id="Subject" size="40" /></td>
				</tr>
                <tr>
                	<td>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['OpenTicket']['Character']}</td>
                    <td>
                    	<select name="Character" id="Character">
                        	<option value="" disabled="disabled" selected="selected">{::x####$####x::this->lang->words['Words']['Select']}</option>
                            <if syntax="count(::x####$####x::userpanel['support_tickets']['open_ticket']['characters']) > 0">
                            <foreach loop="::x####$####x::userpanel['support_tickets']['open_ticket']['characters'] as ::x####$####x::name">
                            <option value="{::x####$####x::name}">{::x####$####x::name}</option>
                            </foreach>
                            </if>
                    	</select>
                    </td>
				</tr>
			</table>
            <table width="100%" border="0" class="tableBackColumn">
            	<tr align="center">
                	<td>
                    	<label>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['OpenTicket']['Message']}</label>
            			<textarea name="Text" id="Text" rows="10" cols="55"></textarea>
                    </td>
           		</tr>
			</table>
            <table width="100%" border="0" class="tableBackColumn">
                <tr>
                	<td>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['OpenTicket']['Annex']}</td>
                    <td><input id="file_upload" name="file_upload" type="file" /></td>
			</table> 
            <input type="button" value="{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['OpenTicket']['Buttons']['Continue']}" id="openNow" class="btn" />
		</form>
	</div>
	<div id="Command"></div>
HTML;
/********** End: option_supportTickets_open_form **********/

/********** Begin: option_supportTickets_show **********/
$CTM_TEMPLATE_DATABASE['option_supportTickets_show'] = <<<HTML
	<script type="text/javascript">
	::x####$####x::(function()
	{
		::x####$####x::("#closeTicket").click(function()
		{
			Sexy.confirm("{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ShowTicket']['Messages']['CloseWarning']}", {onComplete : function(setClose)
			{
				if(setClose)
					CTM.AjaxLoad("?app=core&module=userpanel&option=supportTickets&section=show&id={::x####$####x::userpanel['support_tickets']['show_ticket']['id']}&do=close",'ticketCommand');
			}});
		});
		::x####$####x::("#replyTicket").click(function()
		{
			if(::x####$####x::("#ReplyMessage").val().length < 1)
				CTM.Message("{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ShowTicket']['Messages']['ReplyVoid']}", 1, "ticketCommand");
			else
				CTM.AjaxLoad("?app=core&module=userpanel&option=supportTickets&section=show&id={::x####$####x::userpanel['support_tickets']['show_ticket']['id']}&do=reply",'ticketCommand','replyTicketForm');
		});
	});
	</script>
    <div class="box-content">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ShowTicket']['Title']}</span></div>
		<table width="100%" border="0" class="tableBackColumn">
			<tr>
				<td><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ShowTicket']['Departament']}</strong></td>
				<td>{::x####$####x::userpanel['support_tickets']['show_ticket']['departament']}</td>
			</tr>
			<tr>
				<td><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ShowTicket']['Subject']}</strong></td>
				<td>{::x####$####x::userpanel['support_tickets']['show_ticket']['subject']}</td>
			</tr>
			<tr>
				<td><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ShowTicket']['Character']}</strong></td>
				<td>{::x####$####x::userpanel['support_tickets']['show_ticket']['character']}</td>
			</tr>
			<tr>
				<td><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ShowTicket']['Date']}</strong></td>
				<td>{::x####$####x::userpanel['support_tickets']['show_ticket']['date']}</td>
			</tr>
			<tr>
				<td><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ShowTicket']['Status']}</strong></td>
				<td id="ticketStatus">{::x####$####x::userpanel['support_tickets']['show_ticket']['status']}</td>
			</tr>
			<if syntax="::x####$####x::userpanel['support_tickets']['show_ticket']['annex']">
			<tr>
				<td><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ShowTicket']['Annex']}</strong></td>
				<td><a href="{::x####$####x::userpanel['support_tickets']['show_ticket']['annex']['link']}" target="_blank">[ {::x####$####x::userpanel['support_tickets']['show_ticket']['annex']['name']} ]</a></td>
			</tr>
			</if>
		</table>
		<div class="blockquote">
        	{::x####$####x::userpanel['support_tickets']['show_ticket']['message']}
        </div>
	</div>
    
    <if syntax="count(::x####$####x::userpanel['support_tickets']['show_ticket']['_replies']) > 0">
    <foreach loop="::x####$####x::userpanel['support_tickets']['show_ticket']['_replies'] as ::x####$####x::reply">
    <div class="box-content">
		<table width="100%" border="0" class="tableBackColumn">
			<tr>
				<td><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ShowTicket']['Replies']['Character']}</strong></td>
				<td>{::x####$####x::reply['author']}</td>
			</tr>
			<tr>
				<td><strong>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ShowTicket']['Replies']['Date']}</strong></td>
				<td>{::x####$####x::reply['date']}</td>
			</tr>
		</table>
        <div class="blockquote">
        	{::x####$####x::reply['message']}
        </div>
	</div>
	</foreach>
    </if>
    
	<if syntax="::x####$####x::userpanel['support_tickets']['show_ticket']['_opened'] == true">
    <div id="ticketManage" class="box-content">
        <div align="center">
        	<h3>{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ShowTicket']['ReplyTicket']}</h3>
            <form name="replyTicketForm" id="replyTicketForm" class="frm">
                <textarea name="ReplyMessage" id="ReplyMessage" rows="8" cols="60"></textarea>
            </form>
            <input type="button" value="{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ShowTicket']['Buttons']['Reply']}" id="replyTicket" class="btn" /> 
			<input type="button" value="{::x####$####x::this->lang->words['UserPanel']['SupportTickets']['ShowTicket']['Buttons']['Close']}" id="closeTicket" class="btn" />
		</div>
    </div>
	</if>
	<div id="ticketCommand"></div>
HTML;
/********** End: option_supportTickets_show **********/

/********** Begin: option_transferResets **********/
$CTM_TEMPLATE_DATABASE['option_transferResets'] = <<<HTML
	<div class="box-content">
        <div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['TransferResets']['Title']}</span></div>
        <if syntax="::x####$####x::this->settings['USERPANEL']['CHARACTER']['TRANSFER_RESETS']['RESET_CHAR'] == true">
		<p><strong>{::x####$####x::this->lang->words['UserPanel']['TransferResets']['ResetChar']}</strong></p>
		</if>
		<form name="Transfer_Resets" id="Transfer_Resets" class="frm" style="float:left">
			<label>{::x####$####x::this->lang->words['UserPanel']['TransferResets']['Character']}</label>
            <select name="charDestination" id="charDestination">
				<if syntax="count(::x####$####x::userpanel['transfer_resets']['characters']) > 0">
				<foreach loop="::x####$####x::userpanel['transfer_resets']['characters'] as ::x####$####x::name => ::x####$####x::resets">
				<option value="{::x####$####x::name}">{::x####$####x::name} ({::x####$####x::resets} {::x####$####x::this->lang->words['UserPanel']['TransferResets']['Resets']})</option>
				</foreach>
				</if>
			</select>
            <label>{::x####$####x::this->lang->words['UserPanel']['TransferResets']['Number']}</label>
            <input type="text" name="numberResets" id="numberResets" onkeypress="return CTM.NumbersOnly(event);" size="6" value="{::x####$####x::this->settings['USERPANEL']['CHARACTER']['TRANSFER_RESETS']['MIN_SEND']}" />
            <br />
			<input type="button" class="btn" value="{::x####$####x::this->lang->words['UserPanel']['TransferResets']['Button']}" onclick="CTM.AjaxLoad('?app=core&amp;module=userpanel&amp;option=transferResets&amp;write=true', 'Command', 'Transfer_Resets');">
		</form>
        <div class="description">
			<ul style="width:300px">
				<li>
					<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['TransferResets']['ResetsAvailable']}</strong> 
					<span class="blue">{::x####$####x::userpanel['transfer_resets']['resets_available']}</span>
				</li>
				<li>
					<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['TransferResets']['Require']}</strong> 
					<span class="blue">{::x####$####x::this->settings['USERPANEL']['CHARACTER']['TRANSFER_RESETS']['REQUIRE_RESETS']}</span>
				</li>
				<li>
					<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['TransferResets']['MinSend']}</strong> 
					<span class="blue">{::x####$####x::this->settings['USERPANEL']['CHARACTER']['TRANSFER_RESETS']['MIN_SEND']}</span>
				</li>
				<if syntax="::x####$####x::this->settings['USERPANEL']['CHARACTER']['TRANSFER_RESETS']['MAX_SEND'] > 0">
				<li>
					<strong>&raquo; {::x####$####x::this->lang->words['UserPanel']['TransferResets']['MaxSend']}</strong> 
					<span class="blue">{::x####$####x::this->settings['USERPANEL']['CHARACTER']['TRANSFER_RESETS']['MAX_SEND']}</span>
				</li>
				</if>
			</ul>
		</div>
	</div>
	<div id="Command"></div>
HTML;
/********** End: option_transferResets **********/

/********** Begin: option_viewCharacter **********/
$CTM_TEMPLATE_DATABASE['option_viewCharacter'] = <<<HTML
    <div class="box-content">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Title']}</span></div>
        <table width="100%" border="0">
			<tr>
            	<td width="122"><img src="{::x####$####x::userpanel['view_char']['image']}" width="120" height="120" style="border: 1px solid #B3B3B3;" class="image" /></td>
                <td>
                    <table width="100%" border="0" align="center" cellpadding="7" class="tableBackColumn">
                        <tr>
                            <td width="50%"><em>{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Infos']['Class']}</em></td>
                            <td width="50%">{::x####$####x::userpanel['view_char']['class_name']}</td>
                        </tr>
                        <tr>
                            <td><em>{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Infos']['Level']}</em></td>
                            <td>{::x####$####x::userpanel['view_char']['level']}</td>
                        </tr>
                        <tr>
                            <td><em>{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Infos']['Experience']}</em></td>
                            <td>{::x####$####x::userpanel['view_char']['experience']}</td>
                        </tr>
                        <tr>
                            <td><em>{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Infos']['Points']}</em></td>
                            <td>{::x####$####x::userpanel['view_char']['points']}</td>
                        </tr>
                        <tr>
                            <td><em>{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Infos']['Resets']}</em></td>
                            <td>{::x####$####x::userpanel['view_char']['resets']}</td>
                        </tr>
                        <tr>
                            <td><em>{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Infos']['MasterResets']}</em></td>
                            <td>{::x####$####x::userpanel['view_char']['master_resets']}</td>
                        </tr>
                        <tr>
                            <td><em>{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Infos']['Strength']}</em></td>
                            <td>{::x####$####x::userpanel['view_char']['strength']}</td>
                        </tr>
                        <tr>
                            <td><em>{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Infos']['Dexterity']}</em></td>
                            <td>{::x####$####x::userpanel['view_char']['dexterity']}</td>
                        </tr>
                        <tr>
                            <td><em>{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Infos']['Vitality']}</em></td>
                            <td>{::x####$####x::userpanel['view_char']['vitality']}</td>
                        </tr>
                        <tr>
                            <td><em>{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Infos']['Energy']}</em></td>
                            <td>{::x####$####x::userpanel['view_char']['energy']}</td>
                        </tr>
                        <if syntax="::x####$####x::userpanel['view_char']['class_is_lord'] == true">
                        <tr>
                            <td><em>{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Infos']['Command']}</em></td>
                            <td>{::x####$####x::userpanel['view_char']['command']}</td>
                        </tr>
                        </if>
                        <tr>
                            <td><em>{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Infos']['MapName']}</em></td>
                            <td>{::x####$####x::userpanel['view_char']['map_name']}</td>
                        </tr>
                        <tr>
                            <td><em>{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Infos']['MapPosX']}</em></td>
                            <td>{::x####$####x::userpanel['view_char']['map_posx']}</td>
                        </tr>
                        <tr>
                            <td><em>{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Infos']['MapPosY']}</em></td>
                            <td>{::x####$####x::userpanel['view_char']['map_posy']}</td>
                        </tr>
                    </table>
        		</td>
        	</tr>
		</table>
		<input type="button" value="{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Buttons']['Inventory']}" onclick="CTM.AjaxLoad('?app=core&amp;module=userpanel&amp;option=viewCharacter&amp;do=inventory','loadOption');" class="btn" style="float:left" />
    </div>
    <div id="loadOption"></div>
HTML;
/********** End: option_viewCharacter **********/

/********** Begin: option_viewChar_inventory **********/
$CTM_TEMPLATE_DATABASE['option_viewChar_inventory'] = <<<HTML
	<script type="text/javascript">
    ::x####$####x::(document).ready(function()
    {
		::x####$####x::('#tabs_inventory').tabs({ fx: { opacity: 'toggle' } });
		
		<if syntax="count(::x####$####x::userpanel['view_char']['inventory']['equipments']['hand']['right']) > 1">
		setEquipmentsHandLeft = "<div id='itemDetails'>\
        <h2 class='{::x####$####x::userpanel['view_char']['inventory']['equipments']['hand']['left']['tooltip']['set_item']}'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['hand']['left']['name']}</h2>\
        <p class='info'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['hand']['left']['tooltip']['begin']}</p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['hand']['left']['tooltip']['requirement']}\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['hand']['left']['tooltip']['class_use']}\
        <br />\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['hand']['left']['tooltip']['harmony']}
        <p class='itemBlue'>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['hand']['left']['tooltip']['options']}\
        </p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['hand']['left']['tooltip']['socket']}</div>";
        ::x####$####x::('#equipmentsHandLeft').tooltip(setEquipmentsHandLeft, { hook: false, width: 200, mode: 'tl', tooltipClass: 'itemDetails'});
		</if>
        <if syntax="count(::x####$####x::userpanel['view_char']['inventory']['equipments']['hand']['right']) > 1">
		setEquipmentsHandRight = "<div id='itemDetails'>\
        <h2 class='{::x####$####x::userpanel['view_char']['inventory']['equipments']['hand']['right']['tooltip']['set_item']}'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['hand']['right']['name']}</h2>\
        <p class='info'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['hand']['right']['tooltip']['begin']}</p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['hand']['right']['tooltip']['requirement']}\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['hand']['right']['tooltip']['class_use']}\
        <br />\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['hand']['right']['tooltip']['harmony']}
        <p class='itemBlue'>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['hand']['right']['tooltip']['options']}\
        </p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['hand']['right']['tooltip']['socket']}</div>";
        ::x####$####x::('#equipmentsHandRight').tooltip(setEquipmentsHandRight, { hook: false, width: 200, mode: 'tl', tooltipClass: 'itemDetails'});
		</if>
        <if syntax="count(::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['helm']) > 1">
		setEquipmentsSetHelm = "<div id='itemDetails'>\
        <h2 class='{::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['helm']['tooltip']['set_item']}'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['helm']['name']}</h2>\
        <p class='info'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['helm']['tooltip']['begin']}</p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['helm']['tooltip']['requirement']}\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['helm']['tooltip']['class_use']}\
        <br />\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['helm']['tooltip']['harmony']}
        <p class='itemBlue'>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['helm']['tooltip']['options']}\
        </p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['helm']['tooltip']['socket']}</div>";
        ::x####$####x::('#equipmentsSetHelm').tooltip(setEquipmentsSetHelm, { hook: false, width: 200, mode: 'tl', tooltipClass: 'itemDetails'});
		</if>
        <if syntax="count(::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['armor']) > 1">
		setEquipmentsSetArmor = "<div id='itemDetails'>\
        <h2 class='{::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['armor']['tooltip']['set_item']}'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['armor']['name']}</h2>\
        <p class='info'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['armor']['tooltip']['begin']}</p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['armor']['tooltip']['requirement']}\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['armor']['tooltip']['class_use']}\
        <br />\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['armor']['tooltip']['harmony']}
        <p class='itemBlue'>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['armor']['tooltip']['options']}\
        </p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['armor']['tooltip']['socket']}</div>";
        ::x####$####x::('#equipmentsSetArmor').tooltip(setEquipmentsSetArmor, { hook: false, width: 200, mode: 'tl', tooltipClass: 'itemDetails'});
		</if>
        <if syntax="count(::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['pants']) > 1">
		setEquipmentsSetPants = "<div id='itemDetails'>\
        <h2 class='{::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['pants']['tooltip']['set_item']}'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['pants']['name']}</h2>\
        <p class='info'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['pants']['tooltip']['begin']}</p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['pants']['tooltip']['requirement']}\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['pants']['tooltip']['class_use']}\
        <br />\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['pants']['tooltip']['harmony']}
        <p class='itemBlue'>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['pants']['tooltip']['options']}\
        </p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['pants']['tooltip']['socket']}</div>";
        ::x####$####x::('#equipmentsSetPants').tooltip(setEquipmentsSetPants, { hook: false, width: 200, mode: 'tl', tooltipClass: 'itemDetails'});
		</if>
        <if syntax="count(::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['gloves']) > 1">
		setEquipmentsSetGloves = "<div id='itemDetails'>\
        <h2 class='{::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['gloves']['tooltip']['set_item']}'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['gloves']['name']}</h2>\
        <p class='info'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['gloves']['tooltip']['begin']}</p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['gloves']['tooltip']['requirement']}\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['gloves']['tooltip']['class_use']}\
        <br />\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['gloves']['tooltip']['harmony']}
        <p class='itemBlue'>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['gloves']['tooltip']['options']}\
        </p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['gloves']['tooltip']['socket']}</div>";
        ::x####$####x::('#equipmentsSetGloves').tooltip(setEquipmentsSetGloves, { hook: false, width: 200, mode: 'tl', tooltipClass: 'itemDetails'});
		</if>
        <if syntax="count(::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['boots']) > 1">
		setEquipmentsSetBoots = "<div id='itemDetails'>\
        <h2 class='{::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['boots']['tooltip']['set_item']}'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['boots']['name']}</h2>\
        <p class='info'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['boots']['tooltip']['begin']}</p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['boots']['tooltip']['requirement']}\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['boots']['tooltip']['class_use']}\
        <br />\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['boots']['tooltip']['harmony']}
        <p class='itemBlue'>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['boots']['tooltip']['options']}\
        </p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['boots']['tooltip']['socket']}</div>";
        ::x####$####x::('#equipmentsSetBoots').tooltip(setEquipmentsSetBoots, { hook: false, width: 200, mode: 'tl', tooltipClass: 'itemDetails'});
		</if>
        <if syntax="count(::x####$####x::userpanel['view_char']['inventory']['equipments']['wing']) > 1">
		setEquipmentsWing = "<div id='itemDetails'>\
        <h2 class='{::x####$####x::userpanel['view_char']['inventory']['equipments']['wing']['tooltip']['set_item']}'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['wing']['name']}</h2>\
        <p class='info'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['wing']['tooltip']['begin']}</p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['wing']['tooltip']['requirement']}\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['wing']['tooltip']['class_use']}\
        <br />\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['wing']['tooltip']['harmony']}
        <p class='itemBlue'>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['wing']['tooltip']['options']}\
        </p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['wing']['tooltip']['socket']}</div>";
        ::x####$####x::('#equipmentsWing').tooltip(setEquipmentsWing, { hook: false, width: 200, mode: 'tl', tooltipClass: 'itemDetails'});
		</if>
		<if syntax="count(::x####$####x::userpanel['view_char']['inventory']['equipments']['pet']) > 1">
		setEquipmentsPet = "<div id='itemDetails'>\
        <h2 class='{::x####$####x::userpanel['view_char']['inventory']['equipments']['pet']['tooltip']['set_item']}'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['pet']['name']}</h2>\
        <p class='info'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['pet']['tooltip']['begin']}</p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['pet']['tooltip']['requirement']}\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['pet']['tooltip']['class_use']}\
        <br />\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['pet']['tooltip']['harmony']}
        <p class='itemBlue'>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['pet']['tooltip']['options']}\
        </p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['pet']['tooltip']['socket']}</div>";
        ::x####$####x::('#equipmentsPet').tooltip(setEquipmentsPet, { hook: false, width: 200, mode: 'tl', tooltipClass: 'itemDetails'});
		</if>
        <if syntax="count(::x####$####x::userpanel['view_char']['inventory']['equipments']['pendant']) > 1">
		setEquipmentsPendant = "<div id='itemDetails'>\
        <h2 class='{::x####$####x::userpanel['view_char']['inventory']['equipments']['pendant']['tooltip']['set_item']}'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['pendant']['name']}</h2>\
        <p class='info'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['pendant']['tooltip']['begin']}</p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['pendant']['tooltip']['requirement']}\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['pendant']['tooltip']['class_use']}\
        <br />\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['pendant']['tooltip']['harmony']}
        <p class='itemBlue'>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['pendant']['tooltip']['options']}\
        </p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['pendant']['tooltip']['socket']}</div>";
        ::x####$####x::('#equipmentsPendant').tooltip(setEquipmentsPendant, { hook: false, width: 200, mode: 'tl', tooltipClass: 'itemDetails'});
		</if>
        <if syntax="count(::x####$####x::userpanel['view_char']['inventory']['equipments']['ring']['left']) > 1">
		setEquipmentsRingLeft = "<div id='itemDetails'>\
        <h2 class='{::x####$####x::userpanel['view_char']['inventory']['equipments']['ring']['left']['tooltip']['set_item']}'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['ring']['left']['name']}</h2>\
        <p class='info'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['ring']['left']['tooltip']['begin']}</p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['ring']['left']['tooltip']['requirement']}\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['ring']['left']['tooltip']['class_use']}\
        <br />\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['ring']['left']['tooltip']['harmony']}
        <p class='itemBlue'>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['ring']['left']['tooltip']['options']}\
        </p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['ring']['left']['tooltip']['socket']}</div>";
        ::x####$####x::('#equipmentsRingLeft').tooltip(setEquipmentsRingLeft, { hook: false, width: 200, mode: 'tl', tooltipClass: 'itemDetails'});
		</if>
        <if syntax="count(::x####$####x::userpanel['view_char']['inventory']['equipments']['ring']['right']) > 1">
		setEquipmentsRingRight = "<div id='itemDetails'>\
        <h2 class='{::x####$####x::userpanel['view_char']['inventory']['equipments']['ring']['right']['tooltip']['set_item']}'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['ring']['left']['name']}</h2>\
        <p class='info'>{::x####$####x::userpanel['view_char']['inventory']['equipments']['ring']['right']['tooltip']['begin']}</p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['ring']['right']['tooltip']['requirement']}\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['ring']['right']['tooltip']['class_use']}\
        <br />\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['ring']['right']['tooltip']['harmony']}
        <p class='itemBlue'>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['ring']['right']['tooltip']['options']}\
        </p>\
        {::x####$####x::userpanel['view_char']['inventory']['equipments']['ring']['right']['tooltip']['socket']}</div>";
        ::x####$####x::('#equipmentsRingRight').tooltip(setEquipmentsRingRight, { hook: false, width: 200, mode: 'tl', tooltipClass: 'itemDetails'});
		</if>
        
		<if syntax="count(::x####$####x::userpanel['view_char']['inventory']['inventory']) > 0">
        <foreach loop="::x####$####x::userpanel['view_char']['inventory']['inventory'] as ::x####$####x::key => ::x####$####x::item">
        //---------------------------------------------------------------------------------------------------------------------------------
        setInventoryItem_{::x####$####x::key} = "<div id='itemDetails'>\
        <h2 class='{::x####$####x::item['tooltip']['set_item']}'>{::x####$####x::item['name']}</h2>\
        <p class='info'>{::x####$####x::item['tooltip']['begin']}</p>\
        {::x####$####x::item['tooltip']['requirement']}\
        {::x####$####x::item['tooltip']['class_use']}\
        <br />\
        {::x####$####x::item['tooltip']['harmony']}
        <p class='itemBlue'>\
        {::x####$####x::item['tooltip']['options']}\
        </p>\
        {::x####$####x::item['tooltip']['socket']}</div>";
        ::x####$####x::('#inventoryItem_{::x####$####x::key}').tooltip(setInventoryItem_{::x####$####x::key}, { hook: false, width: 200, mode: 'tl', tooltipClass: 'itemDetails'});
        </foreach>
        </if>
        
        <if syntax="count(::x####$####x::userpanel['view_char']['inventory']['personal_store']) > 0 && MUSERVER_VERSION >= 2">
        <foreach loop="::x####$####x::userpanel['view_char']['inventory']['personal_store'] as ::x####$####x::key => ::x####$####x::item">
        //---------------------------------------------------------------------------------------------------------------------------------
        setPersonalStoreItem_{::x####$####x::key} = "<div id='itemDetails'>\
        <h2 class='{::x####$####x::item['tooltip']['set_item']}'>{::x####$####x::item['name']}</h2>\
        <p class='info'>{::x####$####x::item['tooltip']['begin']}</p>\
        {::x####$####x::item['tooltip']['requirement']}\
        {::x####$####x::item['tooltip']['class_use']}\
        <br />\
        {::x####$####x::item['tooltip']['harmony']}
        <p class='itemBlue'>\
        {::x####$####x::item['tooltip']['options']}\
        </p>\
        {::x####$####x::item['tooltip']['socket']}</div>";
        ::x####$####x::('#personalStoreItem_{::x####$####x::key}').tooltip(setPersonalStoreItem_{::x####$####x::key}, { hook: false, width: 200, mode: 'tl', tooltipClass: 'itemDetails'});
        </foreach>
        </if>
    });
    </script>
    <div class="box-content">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Inventory']['Title']}</span></div>
        <div id="tabs_inventory">
        	<ul>
            	<li><a href="#tabs_inventory-1">{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Inventory']['Tabs']['Equipments']}</a></li>
                <li><a href="#tabs_inventory-2">{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Inventory']['Tabs']['Inventory']}</a></li>
                <if syntax="MUSERVER_VERSION >= 2">
                <li><a href="#tabs_inventory-3">{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Inventory']['Tabs']['PersonalStore']}</a></li>
                </if>
             </ul>
             <div id="tabs_inventory-1">
                 <div id="itemDetailsBox">
                    <table width="100%" border="0" class="tableBackColumn">
                        <tr>
                            <td><strong class="colr">{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Inventory']['Equipments']['Hand']['Left']}</strong></td>
                            <td><strong id="equipmentsHandLeft"><a href="javascript: void();">{::x####$####x::userpanel['view_char']['inventory']['equipments']['hand']['left']['name']}</a></strong></td>
                        </tr>
                        <tr>
                            <td><strong class="colr">{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Inventory']['Equipments']['Hand']['Right']}</strong></td>
                            <td><strong id="equipmentsHandRight"><a href="javascript: void();">{::x####$####x::userpanel['view_char']['inventory']['equipments']['hand']['right']['name']}</a></strong></td>
                        </tr>
                        <tr>
                            <td><strong class="colr">{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Inventory']['Equipments']['Set']['Helm']}</strong></td>
                            <td><strong id="equipmentsSetHelm"><a href="javascript: void();">{::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['helm']['name']}</a></strong></td>
                        </tr>
                        <tr>
                            <td><strong class="colr">{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Inventory']['Equipments']['Set']['Armor']}</strong></td>
                            <td><strong id="equipmentsSetArmor"><a href="javascript: void();">{::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['armor']['name']}</a></strong></td>
                        </tr>
                        <tr>
                            <td><strong class="colr">{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Inventory']['Equipments']['Set']['Pants']}</strong></td>
                            <td><strong id="equipmentsSetPants"><a href="javascript: void();">{::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['pants']['name']}</a></strong></td>
                        </tr>
                        <tr>
                            <td><strong class="colr">{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Inventory']['Equipments']['Set']['Gloves']}</strong></td>
                            <td><strong id="equipmentsSetGloves"><a href="javascript: void();">{::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['gloves']['name']}</a></strong></td>
                        </tr>
                        <tr>
                            <td><strong class="colr">{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Inventory']['Equipments']['Set']['Boots']}</strong></td>
                            <td><strong id="equipmentsSetBoots"><a href="javascript: void();">{::x####$####x::userpanel['view_char']['inventory']['equipments']['set']['boots']['name']}</a></strong></td>
                        </tr>
                        <tr>
                            <td><strong class="colr">{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Inventory']['Equipments']['Wing']}</strong></td>
                            <td><strong id="equipmentsWing"><a href="javascript: void();">{::x####$####x::userpanel['view_char']['inventory']['equipments']['wing']['name']}</a></strong></td>
                        </tr>
                        <tr>
                            <td><strong class="colr">{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Inventory']['Equipments']['Pet']}</strong></td>
                            <td><strong id="equipmentsPet"><a href="javascript: void();">{::x####$####x::userpanel['view_char']['inventory']['equipments']['pet']['name']}</a></strong></td>
                        </tr>
                        <tr>
                            <td><strong class="colr">{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Inventory']['Equipments']['Pendant']}</strong></td>
                            <td><strong id="equipmentsPendant"><a href="javascript: void();">{::x####$####x::userpanel['view_char']['inventory']['equipments']['pendant']['name']}</a></strong></td>
                        </tr>
                        <tr>
                            <td><strong class="colr">{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Inventory']['Equipments']['Ring']['Left']}</strong></td>
                            <td><strong id="equipmentsRingLeft"><a href="javascript: void();">{::x####$####x::userpanel['view_char']['inventory']['equipments']['ring']['left']['name']}</a></strong></td>
                        </tr>
                        <tr>
                            <td><strong class="colr">{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Inventory']['Equipments']['Ring']['Right']}</strong></td>
                            <td><strong id="equipmentsRingRight"><a href="javascript: void();">{::x####$####x::userpanel['view_char']['inventory']['equipments']['ring']['right']['name']}</a></strong></td>
                        </tr>
                    </table>
                </div>
			</div>
            <div id="tabs_inventory-2">
                <div id="itemDetailsBox">
                    <table>
                        <tr>
                            <td style="margin: 0px; padding: 0px;">
                                <div class="vaultBox">
                                    <div id="vaultName">{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Inventory']['Inventory']}</div>
                                    <ul class="items">
                                    	<if syntax="count(::x####$####x::userpanel['view_char']['inventory']['inventory']) > 0">
										<foreach loop="::x####$####x::userpanel['view_char']['inventory']['inventory'] as ::x####$####x::key => ::x####$####x::item">
                                        <li id="inventoryItem_{::x####$####x::key}">{::x####$####x::item['name']}</li>
                                    	</foreach>
                                    	</if>
                                    </ul>
                                </div>
                            </td>                                                     
                            <td style="margin: 0px; padding: 0px; width: 100%;"></td>
                        </tr>
                    </table>
                </div>
            </div>
            <if syntax="MUSERVER_VERSION >= 2">
            <div id="tabs_inventory-3">
                <div id="itemDetailsBox">
                    <table>
                        <tr>
                            <td style="margin: 0px; padding: 0px;">
                                <div class="vaultBox">
                                    <div id="vaultName">{::x####$####x::this->lang->words['UserPanel']['ViewCharacter']['Inventory']['PersonalStore']}</div>
                                    <ul class="items">
                                    	<if syntax="count(::x####$####x::userpanel['view_char']['inventory']['personal_store']) > 0">
										<foreach loop="::x####$####x::userpanel['view_char']['inventory']['personal_store'] as ::x####$####x::key => ::x####$####x::item">
                                        <li id="personalStoreItem_{::x####$####x::key}">{::x####$####x::item['name']}</li>
                                    	</foreach>
                                    	</if>
                                    </ul>
                                </div>
                            </td>                                                     
                            <td style="margin: 0px; padding: 0px; width: 100%;"></td>
                        </tr>
                    </table>
                </div>
            </div>
            </if>
        </div>
    </div>
HTML;
/********** End: option_viewChar_inventory **********/

/********** Begin: option_virtualVault **********/
$CTM_TEMPLATE_DATABASE['option_virtualVault'] = <<<HTML
    <link href="{%PUBLIC_DIRECTORY%}/styles/MuItemData.css" type="text/css" rel="stylesheet" />
    <script type="text/javascript">
    var items = new Array();
    ::x####$####x::(document).ready(function()
    {
        <if syntax="count(::x####$####x::userpanel['virtual_vault']['game_vault_items']) > 0">
        <foreach loop="::x####$####x::userpanel['virtual_vault']['game_vault_items'] as ::x####$####x::item">
        //---------------------------------------------------------------------------------------------------------------------------------
        items['{::x####$####x::item['serial']}'] = "<div id='itemDetails'>\
        <h2 class='{::x####$####x::item['tooltip']['set_item']}'>{::x####$####x::item['name']}</h2>\
        <p class='info'>{::x####$####x::item['tooltip']['begin']}</p>\
        {::x####$####x::item['tooltip']['requirement']}\
        {::x####$####x::item['tooltip']['class_use']}\
        <br />\
        {::x####$####x::item['tooltip']['harmony']}
        <p class='itemBlue'>\
        {::x####$####x::item['tooltip']['options']}\
        </p>\
        {::x####$####x::item['tooltip']['socket']}</div>";
        ::x####$####x::('#itemVault_{::x####$####x::item['serial']}').tooltip(items['{::x####$####x::item['serial']}'], { hook: false, width: 200, mode: 'tl', tooltipClass: 'itemDetails'});
        </foreach>
        </if>
		
		<if syntax="count(::x####$####x::userpanel['virtual_vault']['virtual_vault_items']) > 0">
        <foreach loop="::x####$####x::userpanel['virtual_vault']['virtual_vault_items'] as ::x####$####x::item">
        //---------------------------------------------------------------------------------------------------------------------------------
        items['{::x####$####x::item['serial']}'] = "<div id='itemDetails'>\
        <h2 class='{::x####$####x::item['tooltip']['set_item']}'>{::x####$####x::item['name']}</h2>\
        <p class='info'>{::x####$####x::item['tooltip']['begin']}</p>\
        {::x####$####x::item['tooltip']['requirement']}\
        {::x####$####x::item['tooltip']['class_use']}\
        <br />\
        {::x####$####x::item['tooltip']['harmony']}
        <p class='itemBlue'>\
        {::x####$####x::item['tooltip']['options']}\
        </p>\
        {::x####$####x::item['tooltip']['socket']}</div>";
        ::x####$####x::('#itemVirtual_{::x####$####x::item['serial']}').tooltip(items['{::x####$####x::item['serial']}'], { hook: false, width: 200, mode: 'tl', tooltipClass: 'itemDetails'});
        </foreach>
        </if>
    });
    <if syntax="::x####$####x::this->settings['USERPANEL']['ACCOUNT']['VIRTUAL_VAULT']['INSERT_ITEM'] == true">
    function transferItemVault(itemSerial)
    {
        itemName = ::x####$####x::("#itemVault_"+itemSerial).text();
            
        ::x####$####x::("#itemVault_"+itemSerial).fadeOut("slow", function()
        {
            ::x####$####x::(this).html("");
            
            ::x####$####x::("#itemsVirtualVault").prepend("<li id=\"itemVirtual_"+itemSerial+"\" onclick=\"commandTransferVirtual('"+itemSerial+"');\" style=\"display:none;\">"+itemName+"</li>");
            ::x####$####x::("#itemVirtual_"+itemSerial).tooltip(items[itemSerial], { hook: false, width: 200, mode: 'tl', tooltipClass: 'itemDetails'});
			::x####$####x::("#itemVirtual_"+itemSerial).fadeIn("slow");
        });
    }
    </if>
    function transferItemVirtual(itemSerial)
    {
        itemName = ::x####$####x::("#itemVirtual_"+itemSerial).text();
            
        ::x####$####x::("#itemVirtual_"+itemSerial).fadeOut("slow", function()
        {
            ::x####$####x::(this).html("");
            
            ::x####$####x::("#itemsVault").prepend("<li id=\"itemVault_"+itemSerial+"\" onclick=\"commandTransferVault('"+itemSerial+"');\" style=\"display:none;\">"+itemName+"</li>");
            ::x####$####x::("#itemVault_"+itemSerial).tooltip(items[itemSerial], { hook: false, width: 200, mode: 'tl', tooltipClass: 'itemDetails'});
			::x####$####x::("#itemVault_"+itemSerial).fadeIn("slow");
        });
    }
    <if syntax="::x####$####x::this->settings['USERPANEL']['ACCOUNT']['VIRTUAL_VAULT']['INSERT_ITEM'] == true">
    function commandTransferVault(itemSerial)
    {
        CTM.AjaxLoad("?app=core&module=userpanel&option=virtualVault&do=transferToVirtual&itemSerial="+itemSerial, "loadCommand");
    }
    </if>
    function commandTransferVirtual(itemSerial)
    {
        CTM.AjaxLoad("?app=core&module=userpanel&option=virtualVault&do=transferToVault&itemSerial="+itemSerial, "loadCommand");
    }
    </script>
    <div class="box-content">
    	<div class="header"><span>{::x####$####x::this->lang->words['UserPanel']['VirtualVault']['Title']}</span></div>
        <if syntax="::x####$####x::this->settings['USERPANEL']['ACCOUNT']['VIRTUAL_VAULT']['INSERT_ITEM'] == false">
    	<p>{::x####$####x::this->lang->words['UserPanel']['VirtualVault']['OnlyRetire']}</p>
    	</if>
    </div>
    <div id="loadCommand"></div>
    <div class="box-content">
    	<table width="100%" border="0">
        	<tr>
            	<td>
                    <div id="itemDetailsBox">
                        <table>
                            <tr>
                                <td style="margin: 0px; padding: 0px;">
                                    <div class="vaultBox">
                                        <div id="vaultName">{::x####$####x::this->lang->words['UserPanel']['VirtualVault']['GameVault']}</div>
                                        <ul id="itemsVault" class="items">
                                        <if syntax="count(::x####$####x::userpanel['virtual_vault']['game_vault_items']) > 0">
										<foreach loop="::x####$####x::userpanel['virtual_vault']['game_vault_items'] as ::x####$####x::item">
                                            <if syntax="::x####$####x::this->settings['USERPANEL']['ACCOUNT']['VIRTUAL_VAULT']['INSERT_ITEM'] == true">
                                            <li id="itemVault_{::x####$####x::item['serial']}" onclick="commandTransferVault('{::x####$####x::item['serial']}');">{::x####$####x::item['name']}</li>
                                            <else />
                                            <li id="itemVault_{::x####$####x::item['serial']}">{::x####$####x::item['name']}</li>
                                            </if>
                                        </foreach>
                                        </if>
                                        </ul>
                                    </div>
                                </td>                                                     
                                <td style="margin: 0px; padding: 0px; width: 100%;"></td>
                            </tr>
                        </table>
                    </div>
				</td>
                <td>
                    <div id="itemDetailsBox">
                        <table>
                            <tr>
                                <td style="margin: 0px; padding: 0px;">
                                    <div class="vaultBox">
                                        <div id="vaultName">{::x####$####x::this->lang->words['UserPanel']['VirtualVault']['VirtualVault']}</div>
                                        <ul id="itemsVirtualVault" class="items">
                                        <if syntax="count(::x####$####x::userpanel['virtual_vault']['virtual_vault_items']) > 0">
										<foreach loop="::x####$####x::userpanel['virtual_vault']['virtual_vault_items'] as ::x####$####x::item">
                                            <li id="itemVirtual_{::x####$####x::item['serial']}" onclick="commandTransferVirtual('{::x####$####x::item['serial']}');">{::x####$####x::item['name']}</li>
                                        </foreach>
                                        </if>
                                        </ul>
                                    </div>
                                </td>                                                     
                                <td style="margin: 0px; padding: 0px; width: 100%;"></td>
                            </tr>
                        </table>
                    </div>
				</td>
			</tr>
    	</table>
    </div>
HTML;
/********** End: option_virtualVault **********/